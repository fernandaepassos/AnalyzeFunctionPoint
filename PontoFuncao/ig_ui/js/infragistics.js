/*
* infragistics.js
* Version 12.2.20122.2147
* Copyright(c) 2001-2013 Infragistics, Inc. All Rights Reserved.
*/


/*
 * Infragistics.Web.ClientUI Util functions 12.2.20122.2147
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 * 
 * util functions that extend the jQuery  namespace 
 * if something is not already available in jQuery, please add it here. 
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.4.js
 *
 */
(function(){var b=false,a=/xyz/.test(function(){xyz()})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(j,e){var f=true,c=this.prototype,k,h;if(e){f=false}b=true;k=new this();b=false;function g(m,l){return function(){var o=this._super,n;this._super=c[m];n=l.apply(this,arguments);this._super=o;return n}}for(h in j){if(j.hasOwnProperty(h)){k[h]=f&&typeof j[h]==="function"&&typeof c[h]==="function"&&a.test(j[h])?g(h,j[h]):j[h]}}function d(){if(!b&&this.init){this.init.apply(this,arguments)}}d.prototype=k;d.constructor=d;d.extend=arguments.callee;if(e){d.typeName=function(){return this.prototype.$type};d.baseType=function(){return this.$type.baseType};d.prototype.getType=function(){return this.$type};d.prototype.getHashCode=function(){if(this.$hashCode!==undefined){return this.$hashCode}this.$hashCode=$.ig.nextHashCode++;return this.$hashCode}}return d};if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("ig.util",[],function(){return Class})}}());window.toStaticHTML=window.toStaticHTML||function(a){return a};$.fn.startsWith=function(a){return this[0].innerHTML.indexOf(a)===0};$.ig=$.ig||{};$.ajaxQueue=function(c,b){var a;if(typeof document.ajaxQueue==="undefined"){document.ajaxQueue={queue:{}}}if(typeof document.ajaxQueue.queue[c]==="undefined"){document.ajaxQueue.queue[c]=[]}if(typeof b==="undefined"){return}a=b.complete;b.complete=function(d,e){document.ajaxQueue.queue[c].shift();if(typeof a!=="undefined"){a(d,e)}if(document.ajaxQueue.queue[c].length>0){$.ajax(document.ajaxQueue.queue[c][0])}};document.ajaxQueue.queue[c].push(b);if(document.ajaxQueue.queue[c].length===1){$.ajax(document.ajaxQueue.queue[c][0])}};if(typeof $.ig.useDefineProperty==="undefined"){$.ig.useDefineProperty=true}$.ig.extendNativePrototype=function(c,b,d){if($.ig.useDefineProperty){try{Object.defineProperty(c,b,{value:d,enumerable:false,configurable:true,writable:true})}catch(a){c[b]=d}}else{c[b]=d}};Date.prototype.stdTimezoneOffset=function(){var a,c,b,d;a=new Date(this.getFullYear(),0,1);c=new Date(this.getFullYear(),6,1);d=c.getTimezoneOffset();b=a.getTimezoneOffset();if(b>0&&d>0){return Math.max(b,d)}else{return Math.min(b,d)}};Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};$.ig.findPath=function(b,c){var d,a=b;d=c.split(".");if(d.length>0){for(i=0;i<d.length;i++){if(a){a=a[d[i]]}else{break}}}return a},$.ig.formatter=function(L,K,p,C,o,j){var z,M,u,x,J,A,a,l,D,w,B,k,q,r,t,c,F,b,E,H,v,f=L&&L.getTime,I=$.ig.regional.defaults,G,g=j||"inline-block";if(p==="checkbox"&&C){J='<span style="width:100%;display:'+g+';overflow:hidden;text-align:center;">';J+='<span class="ui-state-default ui-corner-all ui-igcheckbox-small" style="display:inline-block">';J+='<span style="display:block" class="'+(L?"":"ui-igcheckbox-small-off ");return J+'ui-icon ui-icon-check ui-igcheckbox-small-on"></span></span></span>'}if(!L&&L!==0&&L!==false){return"&nbsp;"}if(K==="date"||f){if(!L){return"&nbsp;"}if(!f){return L}D=I[(p&&p!=="null"&&p!=="undefined")?p+"Pattern":"datePattern"]||p;if(o){M=L.getUTCFullYear();x=L.getUTCMonth()+1;f=L.getUTCDate();u=L.getUTCHours();z=L.getUTCMinutes();J=L.getUTCSeconds();A=L.getUTCMilliseconds()}else{M=L.getFullYear();x=L.getMonth()+1;f=L.getDate();u=L.getHours();z=L.getMinutes();J=L.getSeconds();A=L.getMilliseconds()}D=D.replace("MMMM","\x01").replace("MMM","\x02").replace("dddd","\x03").replace("ddd","\x04");if(D.indexOf("t")>=0){a=(u>=12)?I.pm:I.am;a=a||" ";if(D.indexOf("tt")>=0){D=D.replace("tt","t")}else{if(a.length>1){a=a.substring(0,1)}}D=D.replace("t","\x05")}if(D.indexOf("h")>=0&&u>12){u-=12}D=D.replace(/H/g,"h");D=D.replace("yyyy",M<10?"000"+M:M<100?"00"+M:M<1000?"0"+M:M).replace("yy",((M=M%100)<10)?"0"+M:M).replace("y",M%100).replace("MM",(x<10)?"0"+x:x).replace("M",x);D=D.replace("dd",(f<10)?"0"+f:f).replace("d",f);D=D.replace("hh",(u<10)?"0"+u:u).replace("h",u).replace("mm",(z<10)?"0"+z:z).replace("m",z).replace("ss",(J<10)?"0"+J:J).replace("s",J);D=D.replace("fff",(A<10)?"00"+A:((A<100)?"0"+A:A)).replace("ff",((A=Math.round(A/10))<10)?"0"+A:A).replace("f",Math.round(A/100));D=D.replace("\x01",I.monthNames[x-1]).replace("\x02",I.monthNamesShort[x-1]).replace("\x05",a);D=D.replace("\x03",I.dayNames[L.getDay()]).replace("\x04",I.dayNamesShort[L.getDay()]);return D}f=p==="double";if(!f){b=p===(c="currency");if(!b){E=p===(F="percent");if(!E){v=p==="int"}}}B=typeof L==="number";if(f||B||v||b||E||K==="number"){if(!B){L=parseFloat(L.replace("(","-").replace(new RegExp("[^0-9\\-eE\\"+I.numericDecimalSeparator+"\\+]","gm"),"").replace(I.numericDecimalSeparator,"."))}if(isNaN(L)){return"&nbsp;"}H=b?c:(E?F:"numeric");D=I[H+((L<0)?"Negative":"Positive")+"Pattern"]||"n";w=p?p.length:0;if(w>0&&((J=p.charAt(0))==="0"||J==="#")){z=x=0;k=p.indexOf(".");if(k>0){x=w-1-k;while(++k<w){if(p.charAt(k)!=="0"){break}z++}}}else{z=I[H+"MinDecimals"]||0;if(f){x=999}else{x=I[H+"MaxDecimals"];x=(x&&!v)?x:0}}if(L<0){L=-L}if(x===999){L=L.toString(10)}else{if($.browser.msie&&parseInt($.browser.version,10)<=8){G=Math.pow(10,x);L=(Math.round(G*L)/G).toFixed(x)}else{L=L.toFixed(x)}}if((v=L.indexOf("E"))<0){v=L.indexOf("e")}l="";if(v>0){l=L.substring(v);L=L.substring(0,v)}k=L.indexOf(".");w=L.length;v=0;while(k>0&&x>z+v&&L.charAt(w-1-v)==="0"){v++}if(v>0){L=L.substring(0,w-=v)}if(k===w-1){L=L.substring(0,k)}if(k>0){w=k}J=I[H+"DecimalSeparator"];if(J){L=L.replace(".",J)}J=I[H+"GroupSeparator"];t=J?I[H+"Groups"]:"";q=r=(t.length>0)?t[v=0]:0;while(q>0&&--w>0){if(--q===0){L=L.substring(0,w)+J+L.substring(w);q=t[++v];if(!q||q<1){q=r}else{r=q}}}J=I[H+"Symbol"]||"";return D.replace("-",I.negativeSign).replace("n",L+l).replace("$",J)}if(p){if(p.indexOf(J="{0}")>=0){return p.replace(J,L)}if(p.indexOf(J="[0]")>=0){return p.replace(J,L)}}return(L||L===0)?L:"&nbsp;"};$.ig._regional={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],am:"AM",pm:"PM",datePattern:"M/d/yyyy",dateLongPattern:"dddd, MMMM dd, yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timePattern:"h:mm tt",timeLongPattern:"h:mm:ss tt",negativeSign:"-",numericNegativePattern:"-$n",numericDecimalSeparator:".",numericGroupSeparator:",",numericGroups:[3],numericMaxDecimals:2,numericMinDecimals:0,currencyPositivePattern:"$n",currencyNegativePattern:"$(n)",currencySymbol:"$",currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyGroups:[3],currencyMaxDecimals:2,currencyMinDecimals:2,percentPositivePattern:"n$",percentNegativePattern:"-n$",percentSymbol:"%",percentDecimalSeparator:".",percentGroupSeparator:",",percentGroups:[3],percentDisplayFactor:100,percentMaxDecimals:2,percentMinDecimals:2};$.ig.regional=$.ig.regional||{};$.ig.regional.defaults=$.ig._regional;$.ig.setRegionalDefault=function(a){if($.ui&&$.ui.igEditor){$.ui.igEditor.setDefaultCulture(a)}else{$.ig.regional.defaults=$.extend($.ig._regional,(typeof a==="string")?$.ig.regional[a]:a)}};$.ig.calcSummaries=function(summaryFunction,data,caller,dataType){var sum=function(data){var sum=0,i;for(i=0;i<data.length;i++){sum+=data[i]}return sum};summaryFunction=summaryFunction.toLowerCase();if(summaryFunction.startsWith("custom")){summaryFunction="custom"}switch(summaryFunction){case"min":if(data.length===0){if(dataType==="date"){return null}return 0}return Math.min.apply(Math,data);case"max":if(data.length===0){if(dataType==="date"){return null}return 0}return Math.max.apply(Math,data);case"sum":return sum(data);case"avg":if(data.length===0){return 0}return sum(data)/data.length;case"count":return data.length;case"custom":if(caller!==undefined&&caller!==null){if($.type(caller)==="function"){return caller(data)}if($.type(caller)==="string"){caller=eval(caller);return caller(data)}}else{return null}break}};$.ig.getMaxZIndex=function(a){var b=10000,c;$(".ui-dialog").each(function(){if(!a||$(this)[0].id!==a){c=$(this).css("z-index");if(!isNaN(c)){b=Math.max(b,c)}}});return b};$.ig.uid=function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)};$.ig.nextHashCode=0;$.ig.util=$.ig.util||{};$.ig.util.ensureUniqueId=function(b){if(!b.getHashCode){var a=$.ig.nextHashCode++;b.getHashCode=function(){return a}}};$.ig.getColType=function(a){var b=typeof a;if(b==="undefined"){return"string"}else{if(b==="object"&&a instanceof Date){return"date"}else{if(b==="boolean"){return"bool"}else{if(b==="number"){return b}else{if(b==="object"){return"object"}else{return"string"}}}}}};$.ig.typeIdentifierCache={};$.ig.nextTypeIdentifier=0;$.ig.Type=Class.extend({init:function(b,a,c){this.specializationCache={};this.name=b;this.typeArguments=null;this.baseType=null;this.interfaces=null;if(a){this.baseType=a}if(c){this.interfaces=c}if($.ig.typeIdentifierCache[b]){this.identifier=$.ig.typeIdentifierCache[b]}else{this.identifier=$.ig.nextTypeIdentifier++;$.ig.typeIdentifierCache[b]=this.identifier}},typeName:function(){return this.name},getSpecId:function(d){if(d.length===1){if(!d[0]){return"undef"}else{if(!d[0].typeName){return d[0].toString()}else{if(d[0].stringId){return d[0].stringId}else{return d[0].identifier.toString()}}}}var b="";for(var a=0;a<d.length;a++){var c=d[a];if(!d[0]){b+="undef"}else{if(!d[0].typeName){b+=d[0].toString()}else{if(d[0].stringId){b+=d[0].stringId}else{b+=d[0].identifier.toString()}}}}return b},specializationCache:null,specialize:function(){var e=this.getSpecId(arguments);var d=this.specializationCache[e];if(d){return d}d=new $.ig.Type(this.name,this.baseType,this.interfaces);var c=this.typeArguments;var a=false;if(c){a=true}d.typeArguments=[];if(a){for(var b=0;b<c.length;b++){d.typeArguments[b]=arguments[c[b]]}}else{for(var b=0;b<arguments.length;b++){d.typeArguments[b]=arguments[b]}}if(this.baseType&&this.baseType.typeArguments){d.baseType=this.baseType.specialize(arguments)}if(this.interfaces){for(var b=0;b<this.interfaces.length;b++){d.interfaces[b]=this.interfaces[b].specialize(arguments)}}this.specializationCache[e]=d;d.stringId=d.generateString();return d},equals:function(b){if(!(b instanceof $.ig.Type)){return false}if(this.identifier!==b.identifier){return false}if(this.typeArguments===null&&b.typeArguments===null){return true}if(this.typeArguments===null&&b.typeArguments!==null){return false}if(this.typeArguments!==null&&b.typeArguments===null){return false}if(this.typeArguments.length!==b.typeArguments.length){return false}for(var a=0;a<this.typeArguments.Length;a++){if(!(this.typeArguments[a].equals(b.typeArguements[a]))){return false}}return true},checkEquals:function(a,b){if(a instanceof $.ig.Type){return a.equals(b)}else{if(b instanceof $.ig.Type){return b.equals(a)}else{return a==b}}},op_Equality:function(a,b){return a.equals(other)},op_Inequality:function(a,b){return !a.equals(b)},generateString:function(){if(!this.typeArguments||this.typeArguments.length==0){return this.identifier.toString()}else{var c=this.identifier.toString()+"[";var a=true;for(var b=0;b<this.typeArguments.count;b++){if(a){a=false}else{c+=","}c+=this.typeArguments[b].toString()}c+="]";return c}}},true);$.ig.Object=Class.extend({init:function(){},$type:new $.ig.Type("Object")},true);$.ig.Enum=Class.extend({$type:new $.ig.Type("Enum",$.ig.Object.prototype.$type)},true);$.ig.ValueType=Class.extend({init:function(){},$type:new $.ig.Type("ValueType",$.ig.Object.prototype.$type)},true);$.ig.INotifyPropertyChanged=Class.extend({init:function(){},_PropertyChanged:function(){},$type:new $.ig.Type("INotifyPropertyChanged")},true);$.ig.PropertyChangedEventArgs=$.ig.Object.extend({init:function(a){this._propertyName=a},_propertyName:null,propertyName:function(a){if(arguments.length===0){return this._propertyName}else{this._propertyName=a}},$type:new $.ig.Type("PropertyChangedEventArgs",$.ig.Object.$type)},true);$.ig.XmlNodeType=Class.extend({_Attribute:2,_CDATA:4,_Comment:8,_Document:9,_DocumentFragment:11,_DocumentType:10,_Element:1,_Entity:6,_EntityReference:5,_Notation:12,_ProcessingInstruction:7,_Text:3,element:1,attribute:2,text:3,cDATA:4,entityReference:5,entity:6,processingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},true);$.ig.XmlDocumentParser=Class.extend({parse:function(d){if(!window.DOMParser){var e=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"];for(var c=0;c<e.length;c++){try{var f=new ActiveXObject(progIDs[c]);f.async=false;f.loadXML(d);f.setProperty("SelectionLanguage","XPath");return f}catch(b){}}}else{try{var a=new DOMParser();return a.parseFromString(d,"text/xml")}catch(b){}}return null}},true);$.ig.Array=Array;$.ig.extendNativePrototype(Array.prototype,"add",function(a){this[this.length]=a});$.ig.addToArray=function(a,b){a[a.length]=b};$.ig.indexInArray=function(a,c){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}return -1};$.ig.arrayContains=function(a,c){var b=a.indexOf(c);return(b>=0)};$.ig.extendNativePrototype(Array.prototype,"indexOf",function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1});$.ig.extendNativePrototype(Array.prototype,"copy",function(d,e,b,c,a){for(i=0;i<a;i++){b[c+i]=d[e+i]}});$.ig.removeFromArray=function(a,b,d){var c=a.slice((d||b)+1||a.length);a.length=b<0?a.length+b:b;return a.push.apply(a,c)};$.ig.extendNativePrototype(Array.prototype,"contains",function(b){var a=this.indexOf(b);return(a>=0)});$.ig.extendNativePrototype(Array.prototype,"insert",function(a,b){this.splice(a,0,b)});$.ig.extendNativePrototype(Array.prototype,"removeAt",function(a){this.splice(a,1)});$.ig.extendNativePrototype(Array.prototype,"removeItem",function(b){var a=this.indexOf(b);if(a>=0){this.splice(a,1);return true}return false});$.ig.extendNativePrototype(Array.prototype,"getEnumerator",function(){return new $.ig.ArrayEnumerator(this)});$.ig.extendNativePrototype(Array.prototype,"count",function(){return this.length});$.ig.extendNativePrototype(Array.prototype,"item",function(a,b){if(arguments.length===2){this[a]=b;return b}else{return this[a]}});$.ig.extendNativePrototype(Array.prototype,"getLength",function(a){if(a===0){return this.length}else{return this.dimensionLength[a-1]}});$.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0});$.ig.ArrayEnumerator=Class.extend({init:function(a){this._array=a;this._index=-1},current:function(){return this._array[this._index]},moveNext:function(){this._index++;return(this._index<this._array.length)},reset:function(){this._index=-1}},true);$.ig.Date=Class.extend({init:function(){},$type:new $.ig.Type("Date",$.ig.Object.$type)},true);$.ig.Date.prototype.now=function(){return new Date()};$.ig.Date.prototype.fromMilliseconds=function(a){return a};$.ig.util.canAssign=function(b,c){if($.ig.Type.prototype.checkEquals(b,c)){return true}if(c.interfaces){for(var a=0;a<c.interfaces.length;a++){if($.ig.util.canAssign(b,c.interfaces[a])){return true}}}if(c.baseType){return $.ig.util.canAssign(b,c.baseType)}return false};$.ig.util.cast=function(b,a){if(a==null){return null}var c=a;if(a.$type){c=a.$type}if($.ig.util.canAssign(b,c)){return a}else{return null}};$.ig.Dictionary=Class.extend({init:function(){this.proxy={};this.keysHolder=this.proxy;this._count=0},$type:new $.ig.Type("Dictionary",$.ig.Object.prototype.$type),proxy:null},true);$.ig.Dictionary.prototype.getDictionary=function(b){var a=new $.ig.Dictionary();a.proxy=b;a.keysHolder=b;return a};$.ig.Dictionary.prototype.containsKey=function(a){return this.proxy[a]!==undefined};$.ig.Dictionary.prototype.count=function(){return this._count};$.ig.Dictionary.prototype.item=function(a,b){if(arguments.length===1){return this.proxy[a]}else{if(!this.proxy[a]){this._count++}this.proxy[a]=b}};$.ig.Dictionary.prototype.add=function(a,b){if(!this.proxy[a]){this._count++}this.proxy[a]=b};$.ig.Dictionary.prototype.remove=function(a){delete this.proxy[a];this._count--};$.ig.Dictionary.prototype.keys=function(){return new $.ig.KeyEnumerator(this)};$.ig.Dictionary.prototype.values=function(){return new $.ig.ValueEnumerator(this)};$.ig.Dictionary.prototype.clear=function(){this.proxy={};this.keysHolder=this.proxy;this._count=0};$.ig.EventArgs=$.ig.Object.extend({init:function(){}},true);$.ig.Number=Class.extend({$type:new $.ig.Type("Number",$.ig.Object.prototype.$type)},true);$.ig.Number.prototype.parseInt=function(c,d){return parseInt(c,d)};$.ig.Number.prototype.log10=function(a){return Math.log(a)/Math.log(10)};$.ig.Single=Class.extend({},true);$.ig.Single.prototype.parseFloat=function(a){return parseFloat(a)};$.ig.Single.prototype.isInfinity=function(a){return a===Infinity||a===-Infinity};$.ig.Int32=Class.extend({$type:new $.ig.Type("Int32",$.ig.Object.prototype.$type)},true);$.ig.Double=Class.extend({$type:new $.ig.Type("Double",$.ig.Object.prototype.$type)},true);$.ig.Delegate=Class.extend({$type:new $.ig.Type("Delegate",$.ig.Object.prototype.$type)},true);$.ig.Delegate.prototype.combine=function(a,b){if(!a){return b}if(!b){return a}var c=function(){a.apply(null,arguments);return b.apply(null,arguments)};c.enumerate=function(d){if(a){if(a.enumerate){a.enumerate(d)}else{d.push(a)}}if(b){if(b.enumerate){b.enumerate(d)}else{d.push(b)}}};return c};$.ig.Delegate.prototype.remove=function(c,d){if(!c){return null}if(!d){return c}var a=[];var b=null;if(c.enumerate){c.enumerate(a)}else{a.push(c)}for(var e=0;e<a.length;e++){if(d.original){if(a[e].original==d.original&&a[e].target==d.target){continue}}if(a[e]==d){continue}b=$.ig.Delegate.prototype.combine(b,a[e])}return b};$.ig.ReflectionUtil=Class.extend({$type:new $.ig.Type("ReflectionUtil",$.ig.Object.prototype.$type)},true);$.ig.ReflectionUtil.prototype.getPropertyGetter=function(b,a){if(typeof b.prototype[a]==="function"){return function(c){return b.prototype[a].apply(c,arguments)}}return function(c){return c[a]}};$.ig.IEnumerable=Class.extend({$type:new $.ig.Type("IEnumerable",null)},true);$.ig.IEnumerator=Class.extend({$type:new $.ig.Type("IEnumerator",null)},true);$.ig.IEqualityComparer$1=Class.extend({$type:new $.ig.Type("IEqualityComparer",$.ig.Object.prototype.$type)},true);$.ig.IList=Class.extend({$type:new $.ig.Type("IList",null,[$.ig.IEnumerable.prototype.$type])},true);$.ig.Error=Class.extend({init:function(a){if(a>0){switch(a){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.__message=null;this.__innerException=null},init1:function(a,b){this.__message=b},init2:function(a,c,b){this.__message=c;this.__innerException=b},$type:new $.ig.Type("Error",$.ig.Object.prototype.$type)},true);$.ig.Error.prototype.message=function(){return this.__message};$.ig.Error.prototype.innerException=function(){return this.__innerException};$.ig.IDictionary=Class.extend({$type:new $.ig.Type("IDictionary",null)},true);$.ig.ValueEnumerator=Class.extend({init:function(a){this._dict=a;this._index=-1;this._count=0;this._values=[];for(var b in this._dict.proxy){this._values[this._count]=this._dict.proxy[b];this._count++}},current:function(){return this._values[this._index]},moveNext:function(){this._index++;return(this._index<this._count)},reset:function(){this._index=-1},getEnumerator:function(){this.reset();return this},$type:new $.ig.Type("ValueEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},true);$.ig.KeyEnumerator=Class.extend({init:function(a){this._dict=a;this._index=-1;this._count=0;this._keys=[];for(var b in this._dict.proxy){this._keys[this._count]=b;this._count++}},current:function(){return this._keys[this._index]},moveNext:function(){this._index++;return(this._index<this._count)},reset:function(){this._index=-1},getEnumerator:function(){this.reset();return this},$type:new $.ig.Type("KeyEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},true);$.ig.intDivide=function(a,b){var c=a/b;if(c>=0){return Math.floor(c)}else{return Math.ceil(c)}};$.ig.Nullable$1=Class.extend({$t:null,init:function(a,b){this.$t=a;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this._value=b},hasValue:function(){return this._value!==null},_value:null,value:function(a){if(arguments.length===1){this._value=a}else{return this._value}},getValueOrDefault:function(){if(this.hasValue()){return this._value}else{return getDefaultValue()}},getDefaultValue:function(){if($.ig.util.canAssign($.ig.Number.prototype.$type,$t)){return 0}else{if($.ig.util.canAssign($.ig.Boolean.prototype.$type,$t)){return false}else{return null}}},getValueOrDefault1:function(a){if(this.hasValue()){return this._value}else{return a}},isNullable:true,$type:new $.ig.Type("Nullable$1",$.ig.Object.prototype.$type)},true);$.ig.util.toNullable=function(b,c){if(c&&c.isNullable){return c}var a=new $.ig.Nullable$1(b,c);return a};$.ig.util.nullableAdd=function(a,b){if(a.isNullable&&!a.hasValue()){return null}if(b.isNullable&&!b.hasValue()){return null}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,c+d)};$.ig.util.nullableSubtract=function(a,b){if(a.isNullable&&!a.hasValue()){return null}if(b.isNullable&&!b.hasValue()){return null}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,c-d)};$.ig.util.nullableMultiply=function(a,b){if(a.isNullable&&!a.hasValue()){return null}if(b.isNullable&&!b.hasValue()){return null}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,c*d)};$.ig.util.nullableDivide=function(a,b){if(a.isNullable&&!a.hasValue()){return null}if(b.isNullable&&!b.hasValue()){return null}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,c/d)};$.ig.util.nullableModulus=function(a,b){if(a.isNullable&&!a.hasValue()){return null}if(b.isNullable&&!b.hasValue()){return null}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,c%d)};$.ig.util.nullableGreaterThan=function(a,b){if(a.isNullable&&!a.hasValue()){return false}if(b.isNullable&&!b.hasValue()){return false}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return c>d};$.ig.util.nullableGreaterThanOrEqual=function(a,b){if(a.isNullable&&!a.hasValue()){return false}if(b.isNullable&&!b.hasValue()){return false}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return c>=d};$.ig.util.nullableLessThan=function(a,b){if(a.isNullable&&!a.hasValue()){return false}if(b.isNullable&&!b.hasValue()){return false}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return c<d};$.ig.util.nullableLessThanOrEqual=function(a,b){if(a.isNullable&&!a.hasValue()){return false}if(b.isNullable&&!b.hasValue()){return false}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return c<=d};$.ig.util.nullableEquals=function(a,c){var b=(a==null)||(a.IsNullable&&!a.hasValue());var d=(c==null)||(c.IsNullable&&!c.hasValue());if(b&&d){return true}if(b!=d){return false}var e=a;var f=c;if(a.isNullable){e=a.value()}if(c.isNullable){f=c.value()}return e==f};$.ig.util.nullableNotEquals=function(a,b){if(a.isNullable&&!a.hasValue()){return false}if(b.isNullable&&!b.hasValue()){return false}var c=a;var d=b;if(a.isNullable){c=a.value()}if(b.isNullable){d=b.value()}return c!=d};$.ig.util.wellKnownColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};$.ig.util.stringToColor=function(d){var c={a:255,r:0,g:0,b:0};var a=d.replace(" ","").toLowerCase();if(a==="transparent"){return{a:0,r:0,g:0,b:0}}if($.ig.util.wellKnownColors[a]!==undefined){d=$.ig.util.wellKnownColors[a]}if(d.lastIndexOf("rgba",0)===0){d=d.replace("rgba","").replace(" ","").replace("(","").replace(")","");var b=d.split(",");c.r=parseInt(b[0]);c.g=parseInt(b[1]);c.b=parseInt(b[2]);c.a=parseFloat(b[3])*255}else{if(d.lastIndexOf("rgb",0)===0){d=d.replace("rgb","").replace(" ","").replace("(","").replace(")","");var b=d.split(",");c.r=parseInt(b[0]);c.g=parseInt(b[1]);c.b=parseInt(b[2])}else{d=d.replace("#","").replace(" ","");if(d.length===6){c.r=parseInt(d.substr(0,2),16);c.g=parseInt(d.substr(2,2),16);c.b=parseInt(d.substr(4,2),16)}else{if(d.length===3){c.r=parseInt(d.substr(0,1)+d.substr(0,1),16);c.g=parseInt(d.substr(1,1)+d.substr(1,1),16);c.b=parseInt(d.substr(2,1)+d.substr(2,1),16)}}}}return c};$.ig.util.getBinary=function(h,a,d){var b,g,f,j=false;if(typeof XMLHttpRequest=="undefined"){try{f=ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){}try{f=ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}f=new ActiveXObject("Microsoft.XMLHTTP")}else{f=new XMLHttpRequest()}if(f.overrideMimeType){f.overrideMimeType("text/plain; charset=x-user-defined")}else{if(typeof VBArray!="undefined"){j=true}}f.onreadystatechange=function(){if(f.readyState==4){if(f.status==200){if(j){b=new VBArray(f.responseBody).toArray();for(var e=0;e<b.length;e++){b[e]=String.fromCharCode(b[e])}g=b.join("");a(g)}else{a(f.responseText)}}else{d(f.error)}}};f.open("GET",h,true);f.send(null)};$.ig.util.extCopy=function(g,a){var c,d,e;for(d=0;d<a.length;d++){var b=a[d][0];var f=a[d][1];for(e=0;e<b.length;e++){for(c=0;c<f.length;c++){$.ig.extendNativePrototype(b[e].prototype,f[c],g.prototype[f[c]])}}}};$.ig.util.bulkDefine=function(d){var c=0,a=null,b=null;for(c=0;c<d.length;c++){a=d[c];b=a.split(":");$.ig[a]=$.ig[a]||Class.extend({$type:new $.ig.Type(a,$.ig.Object.prototype.$type),$placeholder:true},true)}};$.ig.util.defType=function(d,a,c){var b=true;if($.ig[d]&&!$.ig[d].prototype.$placeholder){b=false}if(b){$.ig[d]=$.ig[a].extend(c)}};$.ig.util.getClassCount=function(a,h){var n=document.styleSheets,l=0,c,m,b,d;a=a.toLowerCase();if(!n){return 0}for(var g=0;g<n.length;g++){try{c=n[g];m=c.rules?c.rules:c.cssRules;if(!m){continue}for(var k=0;k<m.length;k++){b=m[k].selectorText;if(b){b=b.toLowerCase();if(h){if(b.indexOf(a)==0){d=parseInt(b.replace(a,""));l=Math.max(l,d)}}else{if(b==a){l++}}}}}catch(f){}}return l};(function(a){a.ig.util.profiler={};var b={};a.ig.util.profiler.recordTime=function(d,e){var c="meth: "+d;if(!b[c]){b[c]=[]}b[c][b[c].length]=e};a.ig.util.profiler.reset=function(){b={}};a.ig.util.profiler.logReport=function(){var h=[];var e=0;var m=0;var c=0;for(var l in b){if(l.indexOf("meth:")===0){var g={};g.name=l.substr(5);m=0;for(var d=0;d<b[l].length;d++){m=m+b[l][d]}var c=m/b[l].length;g.avg=c;g.callCount=b[l].length;h[e]=g;e++}}h.sort(function(j,k){if(j.avg<k.avg){return 1}if(j.avg>k.avg){return -1}if(j.avg==k.avg){return 0}});for(var f=0;f<Math.min(200,h.length);f++){console.log(h[f].name+" avg: "+h[f].avg+" callCount: "+h[f].callCount)}}}(jQuery));$.ig.extendNativePrototype(Function.prototype,"invoke",function(){return this.apply(null,arguments)});$.ig.extendNativePrototype(Function.prototype,"on",function(c){var b=this;var a=function(){return b.apply(c,arguments)};a.original=this;a.target=c;return a});String.prototype.startsWith=function(a){return this.indexOf(a)===0};String.prototype.endsWith=function(b){var a=this.length-b.length;return a>=0&&this.lastIndexOf(b)===a};String.prototype.remove=function(b,a){if(!a||((b+a)>this.length)){return this.substr(0,b)}return this.substr(0,b)+this.substr(b+a)};String.prototype.compareTo=function(a){if(this==a){return 0}if(this<a){return -1}return 1};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}String.prototype.fullTrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")};String.getHashCode=function(){return this};String.isNullOrEmpty=function(a){return !a||a.length<1};String.empty=function(){return""};String.concat=function(){return[].join.call(arguments,"")};String.concat1=function(a,b){return[].join.call(arguments,"")};String.concat2=function(a,b){return[].join.call(arguments,"")};String.concat3=function(){return[].join.call(arguments,"")};String.concat4=function(a,b,c){return[].join.call(arguments,"")};String.concat5=function(a,b,c){return[].join.call(arguments,"")};String.concat6=function(a,b,c,d){return[].join.call(arguments,"")};String.concat7=function(a,b,c,d){return[].join.call(arguments,"")};String.prototype.equals=function(a){return this==a};if(!Array.prototype.filter){Array.prototype.filter=function(a){var e,c,d,f,g,b;if(this==null){throw new TypeError()}e=Object(this);c=e.length>>>0;if(typeof a!="function"){throw new TypeError()}d=[];f=arguments[1];for(b=0;b<c;b++){if(b in e){g=e[b];if(a.call(f,g,b,e)){d.push(g)}}}return d}}$.ig.extendNativePrototype(Array.prototype,"insertRange",function(b,c){var a=0;if(this.length==0){for(a=0;a<c.length;a++){this[b++]=c[a]}}else{for(a=0;a<c.length;a++){this.splice(b++,0,c[a])}}});$.ig.extendNativePrototype(Array.prototype,"clone",function(){return $.extend(true,[],this)});$.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0});Math.log10=function(a){return Math.log(a)/Math.log(10)};Math.logBase=function(a,b){return Math.log(a)/Math.log(b)};Math.sign=function(a){if(a<0){return -1}else{if(a>0){return 1}else{return 0}}};Number.getHashCode=function(){return this};Number.isInfinity=function(a){return a===Infinity||a===-Infinity};$.ig.util.isIE7=$.browser.msie&&parseInt($.browser.version,10)===7;$.ig.util.isIE8=$.browser.msie&&parseInt($.browser.version,10)===8;$.ig.util.isIE9=$.browser.msie&&parseInt($.browser.version,10)===9;$.ig.util.jqueryFlagsCache={};$.ig.util.jqueryCreateFlags=function(a){var d=$.ig.util.jqueryFlagsCache[a]={},b,c;a=a.split(/\s+/);for(b=0,c=a.length;b<c;b++){d[a[b]]=true}return d};$.ig.util.jqueryCallbacks=function(h){h=h?($.ig.util.jqueryFlagsCache[h]||$.ig.util.jqueryCreateFlags(h)):{};var j=[],m=[],k,c,d,g,f,e,a=function(o){var q,r,p,s,n;for(q=0,r=o.length;q<r;q++){p=o[q];s=jQuery.type(p);if(s==="array"){a(p)}else{if(s==="function"){if(!h.unique||!l.has(p)){j.push(p)}}}}},b=function(o,n){n=n||[];k=!h.memory||[o,n];c=true;d=true;e=g||0;g=0;f=j.length;for(;j&&e<f;e++){if(j[e].apply(o,n)===false&&h.stopOnFalse){k=true;break}}d=false;if(j){if(!h.once){if(m&&m.length){k=m.shift();l.fireWith(k[0],k[1])}}else{if(k===true){l.disable()}else{j=[]}}}},l={add:function(){if(j){var n=j.length;a(arguments);if(d){f=j.length}else{if(k&&k!==true){g=n;b(k[0],k[1])}}}return this},remove:function(){if(j){var p=arguments,n=0,o=p.length;for(;n<o;n++){for(var q=0;q<j.length;q++){if(p[n]===j[q]){if(d){if(q<=f){f--;if(q<=e){e--}}}j.splice(q--,1);if(h.unique){break}}}}}return this},has:function(n){if(j){var o=0,p=j.length;for(;o<p;o++){if(n===j[o]){return true}}}return false},empty:function(){j=[];return this},disable:function(){j=m=k=undefined;return this},disabled:function(){return !j},lock:function(){m=undefined;if(!k||k===true){l.disable()}return this},locked:function(){return !m},fireWith:function(o,n){if(m){if(d){if(!h.once){m.push([o,n])}}else{if(!(h.once&&k)){b(o,n)}}}return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return !!c}};return l};$.ig.util.jqueryDeferred=function(d){var b=$.ig.util.jqueryCallbacks("once memory"),c=$.ig.util.jqueryCallbacks("once memory"),g=$.ig.util.jqueryCallbacks("memory"),j="pending",f={resolve:b,reject:c,notify:g},h={done:b.add,fail:c.add,progress:g.add,state:function(){return j},isResolved:b.fired,isRejected:c.fired,then:function(k,l,m){a.done(k).fail(l).progress(m);return this},always:function(){a.done.apply(a,arguments).fail.apply(a,arguments);return this},pipe:function(k,l,m){return $.ig.util.jqueryDeferred(function(n){jQuery.each({done:[k,"resolve"],fail:[l,"reject"],progress:[m,"notify"]},function(r,p){var q=p[0],o=p[1],s;if(jQuery.isFunction(q)){a[r](function(){s=q.apply(this,arguments);if(s&&jQuery.isFunction(s.promise)){s.promise().then(n.resolve,n.reject,n.notify)}else{n[o+"With"](this===a?n:this,[s])}})}else{a[r](n[o])}})}).promise()},promise:function(l){if(l==null){l=h}else{for(var k in h){l[k]=h[k]}}return l}},a=h.promise({}),e;for(e in f){a[e]=f[e].fire;a[e+"With"]=f[e].fireWith}a.done(function(){j="resolved"},c.disable,g.lock).fail(function(){j="rejected"},b.disable,g.lock);if(d){d.call(a,a)}return a};$.ig.util.deferred=function(){if($.Deferred!==undefined){return $.Deferred()}else{return $.ig.util.jqueryDeferred()}};$.ig.util.xDomainPromise;$.ig.util.corsRequest=function(h,a,b,e,f){var c=$.ig.util.deferred();var d=function(n,l,k,m){var o=new XMLHttpRequest();if("withCredentials" in m){o.open(l,n,true);o.setRequestHeader("Content-Type",k);if("withCredentials" in o){o.withCredentials=true}}else{if(typeof XDomainRequest!="undefined"){o=new XDomainRequest();o.open(l,n);o.onprogress=function(){};o.ontimeout=function(){}}else{o.open(l,n,true);o.setRequestHeader("Content-Type",k)}}return o};var g=function(k){if(k){if($.isFunction(f.xhrCallback)){f.xhrCallback.call(f,k)}k.onload=function(){c.resolve(k.responseText)};k.onerror=function(){c.reject(k.responseText)};k.send(b)}else{c.reject("Cannot create request object.")}};var j=d(h,e,a,f);if(typeof XDomainRequest!="undefined"&&j instanceof XDomainRequest){if($.ig.util.xDomainPromise){$.ig.util.xDomainPromise.always(function(){g(j)})}else{g(j)}$.ig.util.xDomainPromise=c.promise()}else{g(j)}return c.promise()};$.ig.util.ajax=function(f,a,b,d){if(jQuery.support.cors=true){var e={};return $.ig.util.corsRequest(f,a,b,d,e)}var c=$.ig.util.deferred();$.ajax({crossDomain:true,isLocal:false,url:f,contentType:a,data:b,type:d,dataType:"text",success:function(g,j,h){c.resolve(g)},error:function(h,j,g){c.reject(g)}});return c.promise()};$.ig.util.offset=function(a,b){b=b||a.offset();a=a?a[0].ownerDocument:document;a=a?a.documentElement:null;var c=a?a.msContentZoomFactor:null;if(c&&c>1){b.left+=a.scrollLeft-window.pageXOffset;b.top+=a.scrollTop-window.pageYOffset}return b};if($.Widget){(function(a){$.Widget.prototype._createWidget=function(d,c){var b=$(c||this.defaultElement||this)[0];if(b!==this){$.data(b,this.widgetName,this)}return a.apply(this,arguments)}})($.Widget.prototype._createWidget);
/*
 * Infragistics.Web.ClientUI jQuery Shared 12.2.20122.2147
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *	jquery-1.4.2.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	infragistics.util.js
 */
}(function(a){a.widget("ui.igLoading",{options:{cssClass:null,includeVerticalOffset:true},_indicator:null,_create:function(){var c,b;b=this.options.cssClass===null?"ui-igloadingmsg":this.options.cssClass;this._hgrid=this.element.closest(".ui-iggrid-root").closest(".ui-iggrid");if(this.element.children("."+b).length===0){this._indicator=a("<span></span>").appendTo("body").attr("id",this.element[0].id+"_loading").addClass(b);c=this.element.offset();this.refreshPos()}this._yShift=this._indicator?Math.round(this._indicator.height()/2):0},indicatorElement:function(){return this._indicator},indicator:function(){return this},show:function(b){if(b!==false){this.refreshPos()}if(this._resId){clearInterval(this._resId)}this._resId=setInterval(a.proxy(this._resizeContainer,this),300);this._indicator.css("display","").css("visibility","visible")},hide:function(){this._indicator.css("display","none").css("visibility","hidden");clearInterval(this._resId);this._resId=null},_resizeContainer:function(){var b=this.element.offset();if(b.top+this.element.innerHeight()/2-this._yShift!==this._indicator.css("top")){this.refreshPos()}},refreshPos:function(){var c=this.element.offset(),d=c.top+this.element.innerHeight()/2-this._yShift,b=c.left+this.element.innerWidth()/2,e;if(this._hgrid.length>0&&d>this._hgrid.offset().top+this._hgrid.height()){return}if(this._hgrid.length>0&&b>this._hgrid.offset().left+this._hgrid.width()){return}if(this.options.includeVerticalOffset&&d>a(window).height()){e=(a(window).height()-c.top-a(window).scrollTop())/2;d=a(window).height()-e<c.top?c.top+e:a(window).height()-e}this._indicator.css("left",b).css("top",d)},destroy:function(){clearInterval(this._resId);this._indicator.remove()}});a.extend(a.ui.igLoading,{version:"12.2.20122.2147"});a.widget("ui.igSlider",a.ui.mouse,{options:{animate:false,max:100,min:0,orientation:"horizontal",step:1,value:0,bookmarks:[{value:0,title:"",disabled:false,css:""}],showBookmarkTitle:true,syncHandleWithBookmark:true},css:{baseClasses:"ui-igslider ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igslider-horizontal",verticalOrientationClass:"ui-igslider-vertical",sliderDisabledClass:"ui-igslider-disabled ui-disabled",handleClass:"ui-igslider-handle",bookmarkClass:"ui-igslider-bookmark",bookmarkDisabledClass:"ui-igslider-bookmark-disabled",bookmarkTooltipClass:"ui-igslider-bookmark-tooltip"},events:{start:"start",slide:"slide",stop:"stop",change:"change",bookmarkHit:"bookmarkhit",bookmarkClick:"bookmarkclick"},_numpages:5,widget:function(){return this.element},_createWidget:function(c,b){this.options.bookmarks=[];a.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var c=this.options,d=this,b=this.css;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass(b.baseClasses);if(c.disabled){this.element.addClass(b.sliderDisabledClass)}if(a(".ui-igslider-handle",this.element).length===0){a("<a href='#'></a>").appendTo(this.element).addClass(b.handleClass)}this.handles=a(".ui-igslider-handle",this.element).addClass("ui-state-default ui-corner-all").bind({click:function(e){e.preventDefault()},mouseover:function(){if(!c.disabled){a(this).addClass("ui-state-hover")}},mouseout:function(){a(this).removeClass("ui-state-hover")},focus:function(){if(!c.disabled){a(".ui-igslider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}else{a(this).blur()}},blur:function(){a(this).removeClass("ui-state-focus")},keydown:function(g){var k=true,h=a(this).data("index.ui-igslider-handle"),e,f,j,l;if(d.options.disabled){return}switch(g.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:k=false;if(!d._keySliding){d._keySliding=true;a(this).addClass("ui-state-active");e=d._start(g,h);if(e===false){return}}break}l=d.options.step;f=j=d.value();switch(g.keyCode){case a.ui.keyCode.HOME:j=d.options.min;break;case a.ui.keyCode.END:j=d.options.max;break;case a.ui.keyCode.PAGE_UP:j=d._trimValue(f+((d.options.max-d.options.min)/this._numpages));break;case a.ui.keyCode.PAGE_DOWN:j=d._trimValue(f-((d.options.max-d.options.min)/this._numpages));break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===d.options.max){return}j=d._trimValue(f+l);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===d.options.min){return}j=d._trimValue(f-l);break}d._slide(g,h,j);return k},keyup:function(e){var f=a(this).data("index.ui-igslider-handle");if(d._keySliding){d._keySliding=false;d._stop(e,f);d._change(e,f);a(this).removeClass("ui-state-active")}}}).each(function(e){a(this).data("index.ui-igslider-handle",e)});this.handle=this.handles.eq(0);this._renderBookmarks();this._refreshValue();this._animateOff=false},_renderBookmarks:function(){if(this.options.bookmarks&&this.options.bookmarks.length>0){var d=this.options.bookmarks.length,c=0,f=this.options,b=this.css,e,g=this;for(c;c<d;c++){e=f.bookmarks[c];a("<a href='#'></a>").appendTo(this.element).data("index.ui-igslider-bookmark",c).addClass(e.disabled?b.bookmarkDisabledClass:b.bookmarkClass).addClass(e.css&&e.css.length>0?e.css:"").css("left",(f.min!==f.max)?((e.value-f.min)/(f.max-f.min)*100)+"%":"0%")}this.bookmarks=a(".ui-igslider-bookmark",this.element).addClass("ui-state-default").bind({mousedown:function(j){var k=true,h=a(this).data("index.ui-igslider-bookmark");j.preventDefault();j.stopPropagation();k=g._bookmarkClicked(j,h);if(g.options.syncHandleWithBookmark&&k){g._slide(j,0,g.options.bookmarks[h].value)}},mouseover:function(h){if(!f.disabled){a(this).addClass("ui-state-hover");if(g.options.showBookmarkTitle){g._showBookmarkTitle(a(this),h)}}},mouseout:function(){if(!f.disabled){a(this).removeClass("ui-state-hover");if(g.options.showBookmarkTitle){g._hideBookmarkTitle(a(this))}}},click:function(h){h.preventDefault()}});this._createBookmarkTooltip();this._buildBookmarkHit()}},destroy:function(){this.handles.remove();this.clearBookmarks();this.element.removeClass(this.css.baseClasses+" ui-igslider-horizontal ui-igslider-vertical ui-igslider-disabled").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_id:function(b){return this.element[0].id+b},_showBookmarkTitle:function(b,c){var e=a("#"+this._id("_tooltip")),d=this.options.bookmarks[b.data("index.ui-igslider-bookmark")].title;if(d&&d.length>0){e.igTooltip("option","text",d);e.css("top",c.pageY-e.outerHeight()-5).css("left",c.pageX-(e.width()/2)+(b.width()/2)).show()}},_hideBookmarkTitle:function(b){a("#"+this._id("_tooltip")).hide()},_createBookmarkTooltip:function(){var b='<div id="'+this._id("_tooltip")+'" class="'+this.css.bookmarkTooltipClass+'"></div>';a(b).appendTo(a(document.body)).igTooltip({arrowLocation:"bottom"}).hide()},clearBookmarks:function(){if(this.bookmarks){this.bookmarks.remove()}},_mouseCapture:function(b){var g=this.options,j,f,d=0,c=this.handles.eq(d),k=this,h,e;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();j={x:b.pageX,y:b.pageY};f=this._normValueFromMouse(j);this._mouseSliding=true;k._handleIndex=d;c.addClass("ui-state-active");if(!a.browser.opera){c.focus()}h=c.offset();e=!a(b.target).parents().andSelf().is(".ui-igslider-handle");this._clickOffset=e?{left:0,top:0}:{left:b.pageX-h.left-(c.width()/2),top:b.pageY-h.top-(c.height()/2)-(parseInt(c.css("borderTopWidth"),10)||0)-(parseInt(c.css("borderBottomWidth"),10)||0)+(parseInt(c.css("marginTop"),10)||0)};this._slide(b,d,f);this._animateOff=true;this._mouseUpHandler=function(l){return k._mouseStop(l)};a(document).bind("mouseup."+this.widgetName,this._mouseUpHandler);return true},_mouseStart:function(b){a(document).unbind("mouseup."+this.widgetName,this._mouseUpHandler);return this._start(b,this._handleIndex)},_mouseDrag:function(b){var d={x:b.pageX,y:b.pageY},c=this._normValueFromMouse(d);this._slide(b,this._handleIndex,c);return false},_mouseStop:function(b){var c=this;this.handles.removeClass("ui-state-active");setTimeout(function(){c._mouseSliding=false},1000);this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){var c=this.options,b=this.css;if(c.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(b.horizontalOrientationClass).addClass(b.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(b.verticalOrientationClass).addClass(b.horizontalOrientationClass)}},_normValueFromMouse:function(e){var d,c,b,g,f;if(this.orientation==="horizontal"){d=this.elementSize.width;c=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;c=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}b=(c/d);if(b>1){b=1}if(b<0){b=0}if(this.orientation==="vertical"){b=1-b}g=this.options.max-this.options.min;f=this.options.min+b*g;return this._trimValue(f)},_start:function(b,c){var d={handle:this.handles[c],value:this.value()};return this._trigger(this.events.start,b,d)},_slide:function(c,d,e){var b;if(e!==this.value()){b=this._trigger(this.events.slide,c,{handle:this.handles[d],value:e});if(b!==false){this.value(e)}}},_stop:function(b,c){var d={handle:this.handles[c],value:this.value()};this._trigger(this.events.stop,b,d)},_change:function(b,c){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[c],value:this.value()};this._trigger(this.events.change,b,d);this._checkBookmarkHit(d.value,b);if(d.value===this.options.max&&this._marksHit&&this._marksHit.length===0){this._buildBookmarkHit()}}},_checkBookmarkHit:function(b,c){if(this._marksHit&&this._marksHit.length>0&&b>=this._marksHit[0].value){var d=this._marksHit[0].index;this._marksHit.shift();this._bookmarkHit(c,d)}},_buildBookmarkHit:function(){var c=this.options.bookmarks||[],d=c.length-1;this._marksHit=[];for(d;d>=0;d--){if(!c[d].disabled){this._marksHit.push({value:c[d].value,index:d})}}this._marksHit.sort(this._sortBookmarksJSON);this._marksHit=a.extend(true,[],this._marksHit)},_sortBookmarksJSON:function(c,d){return(c.value-d.value)},_bookmarkClicked:function(b,c){var d={bookmarkElement:this.bookmarks[c],bookmark:this.options.bookmarks[c]};return this._trigger(this.events.bookmarkClick,b,d)},_bookmarkHit:function(b,c){var d={bookmarkElement:this.bookmarks[c],bookmark:this.options.bookmarks[c]};if(d.bookmarkElement){this._trigger(this.events.bookmarkHit,b,d)}},value:function(b){if(arguments.length){this.options.value=this._trimValue(b);this._refreshValue();this._change(null,0)}return this._value()},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":if(c){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":if(this._mouseSliding===true){return}this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"bookmarks":this.clearBookmarks();this._renderBookmarks();break}},_value:function(){return this._trimValue(this.options.value)},_trimValue:function(d){if(d<this.options.min){return this.options.min}if(d>this.options.max){return this.options.max}var c=(this.options.step>0)?this.options.step:1,e=d%c,b=d-e;if(Math.abs(e)*2>=c){b+=(e>0)?c:(-c)}return parseFloat(b.toFixed(5))},_normPercentValue:function(d){var b=0,c=d;if(this.orientation==="vertical"){b=(this.handle.outerHeight()/this.element.outerHeight()).toFixed(2)*100}if(d-b>0){c=d-b}return c},_refreshValue:function(){var e=this.options,d=this,c=(!this._animateOff?e.animate:false),b={},g=this.value(),j=this.options.min,h=this.options.max,f=(h!==j)?(g-j)/(h-j)*100:0;b[d.orientation==="horizontal"?"left":"bottom"]=this._normPercentValue(f)+"%";this.handle.stop(1,1)[c?"animate":"css"](b,e.animate)}});a.extend(a.ui.igSlider,{version:"12.2.20122.2147"});a.widget("ui.igProgressBar",{options:{animate:false,animateTimeout:100,max:100,min:0,orientation:"horizontal",value:0,width:"0px",height:"0px",range:false,endValue:100},css:{baseClasses:"ui-igprogressbar ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igprogressbar-horizontal",verticalOrientationClass:"ui-igprogressbar-vertical",disabledClass:"ui-igprogressbar-disabled ui-disabled",progressRangeClass:"ui-igprogressbar-range ui-widget-header ui-corner-all"},events:{change:"change"},_animationOff:true,widget:function(){return this.element},_detectOrientation:function(){var b=this.css;if(this.options.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(b.horizontalOrientationClass).addClass(b.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(b.verticalOrientationClass).addClass(b.horizontalOrientationClass)}},_id:function(b){return this.element[0].id+b},_create:function(){var c=this.options,b=this.css;this._detectOrientation();this.element.addClass(b.baseClasses);if(c.disabled){this.element.addClass(b.disabledClass)}if(c.width!=="0px"){this.element.css("width",c.width)}if(c.height!=="0px"){this.element.css("height",c.height)}if(c.orientation==="horizontal"){a('<div id="'+this._id("_progress")+'" class="'+b.progressRangeClass+'" style="height:100%; top:0px; left:0%; width:0%;"></div>').appendTo(this.element)}else{a('<div id="'+this._id("_progress")+'" class="'+b.progressRangeClass+'" style="height:0%; bottom:0%; left:0px; width:100%;"></div>').appendTo(this.element)}this._refreshValue()},destroy:function(){this.element.removeClass("ui-igprogressbar ui-igprogressbar-horizontal ui-igprogressbar-vertical ui-igprogressbar-disabled ui-widget ui-widget-content ui-corner-all").removeData("igProgressBar").unbind(".igProgressBar");a("#"+this._id("_progress")).remove();return this},_change:function(b){var c={value:this.value()};this._trigger(this.events.change,b,c)},value:function(b){if(arguments.length){this.options.value=this._trimValue(b);this._refreshValue();this._change(null)}return this.options.value},_setOption:function(b,d){a.Widget.prototype._setOption.apply(this,arguments);var c=this.options;switch(b){case"disabled":if(d){this.element.addClass(this.css.disabledClass)}else{this.element.removeClass(this.css.disabledClass)}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":this._animationOff=true;c.value=this._trimValue(d);this._refreshValue();this._change(null);this._animationOff=false;break;case"endValue":c.endValue=this._trimValue(d);this._refreshValue();break;case"max":if(c.endValue>c.max){c.endValue=c.max;this._refreshValue()}break;case"width":this.element.css("width",d);break;case"height":this.element.css("height",d);break;case"animate":c.animate=d;break;case"animateTimeout":c.animateTimeout=d;break;default:break}},_trimValue:function(b){if(b<this.options.min){return this.options.min}if(b>this.options.max){return this.options.max}return parseInt(b,10)},_refreshValue:function(){var b=this.options,e=b.value,j=b.min,h=b.max,f=b.endValue,d=(h!==j)?(e-j)/(h-j)*100:0,g=(e!==f)?(f-e)/(h-j)*100:0,c=a("#"+this._id("_progress"));if(b.range){if(b.orientation==="horizontal"){c.css("left",d+"%").css("width",g+"%")}else{c.css("bottom",d+"%").css("height",g+"%")}}else{if(b.animate===true){if(b.orientation==="horizontal"){if(c[0].style.width==="0%"){c.css({width:"0px"})}if(c.is(":hidden")===false){c.animate({width:d+"%"},b.animateTimeout)}else{c.css("width",d+"%")}}else{if(c[0].style.height==="0%"){c.css({height:"0px"})}if(c.is(":hidden")===false){c.animate({height:d+"%"},b.animateTimeout)}else{c.animate({height:d+"%"},b.animateTimeout)}}}else{if(b.orientation==="horizontal"){c.css("width",d+"%")}else{c.css("height",d+"%")}}}}});a.extend(a.ui.igProgressBar,{version:"12.2.20122.2147"});a.widget("ui.igButton",{options:{width:null,height:null,link:{href:null,target:null,title:null},labelText:"",centerLabel:false,css:null,onlyIcons:false,icons:{primary:null,secondary:null},title:false},_id:function(b){return this.element[0].id+b},_create:function(){var g=this,f=g.options,c=this.element,d,b={buttonClassIE6:"ui-ie6",buttonClasses:"ui-button ui-igbutton ui-widget ui-widget-content ui-corner-all ui-state-default",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"};this._attached=false;f.css=a.extend(b,f.css);g._getInitValues();if(c.is("div")){g._renderDivButton()}else{if(c.is("a")){g._renderAHref()}else{if(c.is("input")){d=c.attr("type").toUpperCase();if(d==="BUTTON"||d==="SUBMIT"||d==="RESET"){g._renderInput()}else{return}}else{if(c.is("button")){g._renderButton()}else{return}}}}if(f.width!==null){g._setWidth(f.width)}if(f.height!==null){g._setHeight(f.height)}c.addClass(f.css.buttonClasses).addClass(f.css.buttonDefaultClasses);if(a.browser.msie===true&&a.browser.version.slice(0,1)==="6"){c.addClass(b.buttonClassIE6)}if(f.centerLabel===true){g._centerLabel()}if(f.disabled){g._disableButton()}else{g._enableButton()}g._setOnlyIcons();c.attr("role","button");c.attr("aria-disabled","false");g._attachButtonEvents();g.setTitle(f.title);return this},setTitle:function(c){var b=this.element;if(c===false){b.removeAttr("title")}else{b.attr("title",c)}},widget:function(){return this.element},_isRedirect:function(){return this.options.link.href!==null},_renderDivButton:function(){this._setLabel()},_renderAHref:function(){this._setLinkOptions(true);this._setLabel()},_renderInput:function(){var b=this.element;b.attr("value",this.options.labelText)},_renderButton:function(){this._setLabel()},_disableButton:function(){var c=this,b=c.element;b.addClass(c.options.css.buttonDisabledClass);if(b.is("a")===true){b.removeAttr("href");b.removeAttr("target");b.removeAttr("title")}else{b.attr("disabled","true")}},_enableButton:function(){var d=this,b=d.element,c=this.options;if(b.hasClass(c.css.buttonDisabledClass)){b.removeClass(c.css.buttonDisabledClass)}b.removeAttr("disabled");if(b.is("a")===true){d._setLinkOptions(true)}},_setLabel:function(){var c=this.element,k=this.options,f=k.icons,b=k.css,d="",g=this._isSetPrimaryIcon(),h=this._isSetSecondaryIcon(),j=(k.labelText===null||k.labelText==="")?c.text():k.labelText;c.attr("title",k.labelText);if(c.is("input")){c.attr("value",k.labelText);return}if(g){d+='<span class="'+b.buttonPrimaryIconClass+" "+f.primary+'" id="'+this._id("_picn")+'"></span>'}d+='<span class="'+k.css.buttonLabelClass+'" id="'+this._id("_lbl")+'">'+j+"</span>";if(h){d+='<span class="'+b.buttonSecondaryIconClass+" "+f.secondary+'" id="'+this._id("_sicn")+'"></span>'}if(g&&h&&!k.onlyIcons){c.addClass(b.buttonIcons)}else{if(k.onlyIcons){this._setOnlyIcons()}else{if(g){c.addClass(b.buttonMainElementPrimaryIconClass)}else{if(h){c.addClass(b.buttonMainElementSecondaryIconClass)}else{c.addClass(b.buttonTextOnlyClass)}}}}c.html(d)},_setOnlyIcons:function(){var c=this.element,b=this.options.css;if(this.options.onlyIcons===false){if(c.hasClass(b.buttonIconsOnly)){c.removeClass(b.buttonIconsOnly)}if(c.hasClass(b.buttonIconOnly)){c.removeClass(b.buttonIconOnly)}if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){c.addClass(b.buttonIcons)}}else{if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){c.addClass(b.buttonIconsOnly)}else{c.addClass(b.buttonIconOnly)}}},_setLinkOptions:function(c){var f=this,b=f.element,d=this.options;if(c){if(d.link!==null&&d.link.href!==null){b.attr("href",d.link.href)}else{b.removeAttr("href")}if(d.link!==null&&d.link.target!==null){b.attr("target",d.link.target)}else{b.removeAttr("target")}if(d.link!==null&&d.link.title!==null){b.attr("title",d.link.title)}else{b.removeAttr("title")}}},_setWidth:function(c){var b=this.element;if(c===null){b.css("width","")}else{b.css("width",c)}},_setHeight:function(c){var b=this.element;if(c===null){b.css("height","")}else{b.css("height",c)}},_setOption:function(c,f){var b=this.element,d=this;a.Widget.prototype._setOption.apply(this,[c,f]);switch(c){case"width":d._setWidth(f);break;case"height":d._setHeight(f);break;case"link":d._setLinkOptions(b.is("a")===true);break;case"disabled":f=Boolean(f);if(f===true){d._disableButton()}else{d._enableButton()}break;case"labelText":d._setLabel();break;case"centerLabel":f=Boolean(f);if(f){d._centerLabel()}else{d._removeCenterLabel()}break;case"onlyIcons":f=Boolean(f);d._setOnlyIcons();break;case"icons":d._setLabel();break;case"title":d.setTitle(f);break;default:break}},_centerLabel:function(){var f=this,b=f.element,c=a("#"+f._id("_lbl")),d=(b.width()-c.width())/2,g=(b.height()-c.height())/2;c.css({position:"relative",top:g+"px",left:d+"px"})},_removeCenterLabel:function(){var c=this,b=a("#"+c._id("_lbl"));if(b.length>0){b.css({position:"",top:"",left:""})}},_dettachEvents:function(){var c=this,b=c.element;this._attached=false;b.unbind(this._events);return},_onMouseOver:function(b){var c;if(this.options.disabled===true){return}c=this._trigger("mouseover",b);if(c){this.element.addClass(this.options.css.buttonHoverClasses)}},_onMouseOut:function(c){var g=this,b=g.element,f=this.options,d;if(f.disabled===true){return}d=g._trigger("mouseout",c);if(d){b.removeClass(f.css.buttonHoverClasses)}},_onClick:function(c){var b=this.element,g=this,f=this.options,d;if(f.disabled===true){return}d=g._trigger("click",c);if(d){this.element.removeClass(f.css.buttonHoverClasses);if(g._isRedirect()===true&&b.is("a")===false){if(f.link.target==="_blank"){window.open(f.link.href)}else{window.location=f.link.href}}}},_onMouseDown:function(c){var b=this.element,f=this.options,d;if(f.disabled===true){return}d=this._trigger("mousedown",c);if(d){b.removeClass(f.css.buttonHoverClasses);b.addClass(f.css.buttonActiveClasses)}},_onMouseUp:function(b){var d=this.options,c;if(d.disabled===true){return}c=this._trigger("mouseup",b);if(c){this.element.removeClass(d.css.buttonHoverClasses);this.element.removeClass(d.css.buttonActiveClasses)}},_onFocus:function(b){var d=this.options,c;if(d.disabled===true){return}c=this._trigger("focus",b);if(c){this.element.addClass(d.css.buttonFocusClasses)}},_onBlur:function(b){var d=this.options,c;if(d.disabled===true){return}c=this._trigger("blur",b);if(c){this.element.removeClass(d.css.buttonActiveClasses);this.element.removeClass(d.css.buttonFocusClasses)}},_onKeyDown:function(b){var c=this.options;if(c.disabled===true){return}this._trigger("keydown",b)},_attachButtonEvents:function(){var c=this,b=c.element;if(this._attached===true){return}this._attached=true;this._events={mouseover:function(d){c._onMouseOver(d,c)},click:function(d){c._onClick(d)},mouseout:function(d){c._onMouseOut(d)},mousedown:function(d){c._onMouseDown(d)},mouseup:function(d){c._onMouseUp(d)},focus:function(d){c._onFocus(d)},blur:function(d){c._onBlur(d)},keydown:function(d){c._onKeyDown(d)}};b.bind(this._events)},_isSetPrimaryIcon:function(){var c=this.options.icons.primary,b=false;if(c!==undefined&&c!==null){b=true}return b},_isSetSecondaryIcon:function(){var c=this.options.icons.secondary,b=false;if(c!==undefined&&c!==null){b=true}return b},_setAttribute:function(d,b,c){if(b!==undefined&&b!==""&&b!==null){d.attr(c,b)}else{d.removeAttr(c)}},destroy:function(){this._dettachEvents();this._rollbackInitValues();this._events=null;a.Widget.prototype.destroy.apply(this,arguments)},_getInitValues:function(){var b=this.element;this._innerHTML=b.html();this._cssClasses=b.attr("class");this._role=b.attr("role");this._href=b.attr("href");this._title=b.attr("title");this._target=b.attr("target");this._width=b.attr("width");this._height=b.attr("height");this._disabled=b.attr("disabled");this._value=b.val()},_rollbackInitValues:function(){var b=this.element;b.html(this._innerHTML);if(b.is("a")){this._setAttribute(b,this._href,"href");this._setAttribute(b,this._target,"target")}else{if(b.is("input")){b.val(this._value)}}this._setAttribute(b,this._title,"title");this._setAttribute(b,this._width,"width");this._setAttribute(b,this._height,"height");this._setAttribute(b,this._cssClasses,"class");this._setAttribute(b,this._role,"role");this._setAttribute(b,this._disabled,"disabled")}});a.extend(a.ui.igButton,{version:"12.2.20122.2147"});a.widget("ui.igTooltip",{css:{baseClasses:"ui-widget ui-igtooltip ui-igplayer-tooltip",arrowImageBaseClass:"ui-igtooltip-arrow-"},options:{text:"",arrowLocation:"top"},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"text":a("div.ui-widget-content",this.element).html(c);break;case"arrowLocation":a("div",this.element).remove();this._renderTooltip();break}},_create:function(){if(this.element.is("div")){this._renderTooltip();this.element.addClass(this.css.baseClasses)}},_renderTooltip:function(){switch(this.options.arrowLocation){case"top":this._createArrowDiv();this._createContentDiv();break;case"bottom":this._createContentDiv();this._createArrowDiv();break;case"left":break;case"right":break}},_createContentDiv:function(){var b=(this.options.text&&this.options.text.length>0)?this.options.text:"";a('<div class="ui-widget-content ui-corner-all">'+b+"</div>").appendTo(this.element)},_createArrowDiv:function(){a('<div class="'+this.css.arrowImageBaseClass+this.options.arrowLocation+'"></div>').appendTo(this.element)},destroy:function(){this.element.children().remove();this.element.removeClass(this.css.baseClasses)}});a.extend(a.ui.igTooltip,{version:"12.2.20122.2147"});a.widget("ui.igToolbar",{options:{height:null,width:null,allowCollapsing:true,collapseButtonIcon:"ui-igbutton-collapsed",expandButtonIcon:"ui-igbutton-expanded",name:"",displayName:"",items:[],expanded:true},events:{toolbarButtonClick:"toolbarButtonClick",toolbarComboOpening:"toolbarComboOpening",toolbarComboSelected:"toolbarComboSelected",toolbarMouseDown:"toolbarMouseDown",toolbarCustomItemClick:"toolbarCustomItemClick",itemRemoved:"itemRemoved",itemAdded:"itemAdded",collapsing:"collapsing",collapsed:"collapsed",expanding:"expanding",expanded:"expanded",itemDisable:"itemDisable",itemEnabled:"itemEnabled"},css:{toolbarWidget:"ui-widget ui-widget-content ui-igtoolbar ui-corner-all",toolbarWrapperConteiner:"ui-widget ui-widget-content ui-igtoolbar ui-corner-all",toolbarCollapsedButton:"ui-state-default ui-igbutton-all-caps",igToolbarSeparator:"ig-toolbar-separator ui-widget-content"},_id:function(b){return this.element[0].id+b},widget:function(){return this.element},_create:function(){this._render();this._createItems()},_init:function(){this._attachEvents();if(!this.options.expanded){this.buttonsList.hide();this.collapseBtn.igToolbarButton("toggle").children(":first").switchClass(this.options.collapseButtonIcon,this.options.expandButtonIcon)}this._width=this.collapseBtn.outerWidth(true)+this.buttonsList.width();this._height=this.element.height()},_render:function(){var b=this.options;this.element.addClass(this.css.toolbarWidget);this.element.width(this.options.width).height(this.options.height);this.collapseBtn=a('<div tabIndex="0" id="'+this._id("_collapseButton")+'"></div>').appendTo(this.element).igToolbarButton({onlyIcons:true,labelText:"&nbsp;",title:a.ig.HtmlEditor.locale.collapseButtonTitle+" "+this.options.displayName,icons:{primary:b.collapseButtonIcon}});this.toolbarBody=this.element.find("#"+this._id("_toolbar"));this.buttonsList=a('<span id="'+this._id("_toolbar_buttons")+'" style="display:inline-block"></span>').appendTo(this.element)},_onCollapse:function(c){var f,d,b,g=this.options,l,j=this,k,h;if(!g.allowCollapsing){return}if(g.expanded){d="collapsed";b="collapsing";g.expanded=false;l=this.element.height();this.collapseBtn.attr("title",a.ig.HtmlEditor.locale.expandButtonTitle+" "+this.options.displayName).children(":first").switchClass(this.options.collapseButtonIcon,this.options.expandButtonIcon);k="hidden";h="0.0"}else{d="expanded";b="expanding";g.expanded=true;l=this._width;this.buttonsList.show();this.collapseBtn.attr("title",a.ig.HtmlEditor.locale.collapseButtonTitle+" "+this.options.displayName).children(":first").switchClass(this.options.expandButtonIcon,this.options.collapseButtonIcon);k="visible";h="1"}c.stopPropagation();f=this._trigger(this.events[b],c,{owner:this,toolbarElement:this.element,toolbar:{}});if(f){this.element.css({overflow:"hidden"});this.element.animate({width:l},300,null,function(){if(!g.expanded){j.buttonsList.hide()}if(document.documentMode===7){j.buttonsList.attr("style","visibility: "+k+" !important;")}j._trigger(j.events[d],c,{owner:j,toolbarElement:j.element,toolbar:{}})})}},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"allowCollapsing":this.options.allowCollapsing=c;break;case"items":this._updateItems(c);break}},_isSelectedAction:function(b,d,c){if(d.value){b.addClass("ui-state-active")}},_tooltipAction:function(b,d,c){if(c!==undefined){c.title=d.value}else{b.igToolbarButton("option","title",d.value)}},_buttonIconAction:function(b,d,c){if(c!==undefined){c.icons={primary:d.value}}else{b.igToolbarButton("option","icons",{primary:d.value})}},_comboDataSourceAction:function(b,d,c){if(c!==undefined){c.dataSource=d.value}else{b.igCombo("option","dataSource",d.value)}},_comboWidthAction:function(b,d,c){if(c!==undefined){c.width=d.value}else{b.igCombo("option","width",d.value)}},_comboHeightAction:function(b,d,c){if(c!==undefined){c.height=d.value}else{b.igCombo("option","height",d.value)}},_spltBtnTooltipAction:function(b,d,c){},_comboSelectedItem:function(b,d,c){if(c!==undefined){c.selectedItems=[{value:d.value}]}else{b.igCombo("option","selectedItems",[{value:d.value}])}},_spltButtonColorAction:function(b,d,c){if(c!==undefined){c.defaultColor=d.value}else{b.igColorPickerSplitButton("option","defaultColor",d.value)}},_comboDropDownListWidth:function(b,d,c){if(c!==undefined){c.dropDownWidth=d.value}else{b.igCombo("option","dropDownWidth",d.value)}},_createItems:function(){var e=this.options,b,f=this,c={},d,g={button:"igToolbarButton",combo:"igCombo",splitButton:"igSplitButton",splitButtonColor:"igColorPickerSplitButton"},h=function(j,k){var l=e.items[b].scope||f;if(k.action!==undefined&&a.isFunction(l[k.action])){l[k.action](d,k,c);return}c[j]=k.value};this.buttonsList.empty();for(b=0;b<e.items.length;b++){c={};d=(e.items[b].callbackRenderer()||a('<div tabIndex="0"></div>')).attr("id",this._id("_item_"+e.items[b].name)).appendTo(this.buttonsList);a.each(e.items[b].getProperties(),h);if(g.hasOwnProperty(e.items[b].type)){d[g[e.items[b].type]](c);continue}}},_updateItems:function(d){var g=this.options,k,c,e,h,b,f;for(c=0;c<d.length;c++){k=d[c].getUpdatedProperties();b=this.getItem(d[c].name);h=g.items[c].scope||this;for(e=0;e<k.length;e++){if(k[e].action!==undefined&&a.isFunction(h[k[e].action])){h[k[e].action](b,k[e]);continue}if(d[c] instanceof a.ig.igToolbarButtonDescriptor){b.igToolbarButton("option",f,k[e])}if(g.items[c] instanceof a.ig.igToolbarComboDescriptor){b.igCombo("option",f,k[e])}}}},_getWidgetType:function(c){var b,d;if(c===undefined){return}b=c.data();for(d in b){if(b.hasOwnProperty(d)&&b[d].widgetName){return b[d].widgetName}}},_isWidgetSupported:function(c){var b;for(b=0;b<this.supportedWidgets.length;b++){if(this.supportedWidgets[b].name===c){return true}}},_attachEvents:function(){var b="igtoolbarbuttonclick igsplitbuttonclick igcolorpickersplitbuttoncolorselected";this.element.delegate(".ui-widget",b,a.proxy(this._onToolbarItemInteraction,this));this.element.delegate(":ui-igCombo","click",a.proxy(this._onComboListItemClick,this));this.collapseBtn.bind("igtoolbarbuttonclick",a.proxy(this._onCollapse,this))},_onToolbarItemInteraction:function(b,j){var f,g=a(b.target).parentsUntil(":ui-igToolbar").eq(-2),d,h,c=this.options;if(g.length===0){g=a(b.target)}d=this.buttonsList.children().index(g);switch(b.type){case"igcomboselectionchanged":f=j.items[0].value;h=this.events.toolbarComboSelected;break;case"igtoolbarbuttonclick":h=this.events.toolbarButtonClick;break;default:h=this.events.toolbarCustomItemClick;f=j.value;break}this._trigger(h,b,{name:j.name||c.items[d].name,value:f,handler:c.items[d].handler(),scope:c.items[d].getProperty("scope"),itemProperties:c.items[d].getProperties(),toolbarItem:g,toolbarName:c.name})},_onComboListItemClick:function(c){var g=a(c.target),b,f,d,j,h;if(!g.hasClass("ui-igcombo-listitem")&&!g.parent().hasClass("ui-igcombo-listitem")){return}if(g.hasClass("ui-igcombo-listitem")){d=g}else{if(g.parent().hasClass("ui-igcombo-listitem")){d=g.parent()}}f=d.data("id")-100;b=a(c.currentTarget).igCombo("option","dataSource");j=this.buttonsList.children().index(a(c.currentTarget));h=this.options.items[j];this._trigger(this.events.toolbarComboSelected,c,{name:h.name,value:b[f].text,handler:h.handler(),scope:h.getProperty("scope"),itemProperties:h.getProperties(),toolbarItem:a(c.currentTarget).data("igCombo"),toolbarName:this.options.name})},getItem:function(b){var c;if(!isNaN(parseInt(b,10))){return this.buttonsList.eq(b)}if(typeof b==="string"){c=this.buttonsList.find("#"+this._id("_item_"+b));if(c.length){return c}}},addItem:function(b){if(this._isWidgetSupported(b.type)){this.options.items.push(b);this._createItems();this._trigger(this.events.itemAdded)}},removeItem:function(b){this.buttonsList.eq(b).remove();this._trigger(this.events.itemremoved)},disableItem:function(c,b){var d=this.getItem(c),e=this._getWidgetType(d);if(e){d[this._getWidgetType(d)]("option","disabled",b);this._trigger(this.events.itemDisable,{isDisabled:b})}},activateItem:function(d,c){var e=this.getItem(d),b=c?e.addClass:e.removeClass;b.call(this,"ui-state-active");e.igToolbarButton("options","isSelected",c);this._trigger(this.events.itemActivated,{isActivated:c})},deactivateAll:function(){this.buttonsList.find(".ui-state-active").removeClass("ui-state-active").igToolbarButton("option","isSelected",false)},_setCollapseExpandButtonIcon:function(){if(this.options.collapseButtonIcon){this.collapseBtn.switchClass("ui-icon-triangle-1-w",this.options.collapseButtonIcon)}},destroy:function(){a.Widget.prototype.destroy.apply(this,arguments);this.element.undelegate();this.element.unbind();this.element.removeClass(this.css.toolbarWrapperConteiner).find("#"+this._id("_toolbar")).removeClass(this.css.toolbarWidget).end().find("#"+this._id("_collapseButton")).removeClass(this.css.toolbarCollapsedButton).end().find(":ui-igToolbarButton").igToolbarButton("destroy").end().find(":ui-igCombo").igCombo("destroy").end().find(":ui-igSplitButton").igSplitButton("destroy").end().find(":ui-igColorPickerSplitButton").igColorPickerSplitButton("destroy");delete this.buttonsList;delete this.collapseBtn;delete this.toolbarBody}});a.ig=a.ig||{};a.ig.igToolbarItemBaseDescriptor=Class.extend({settings:{width:null,height:null,props:{scope:{value:null}}},_updatedProperties:[],init:function(b){this.settings=a.extend(true,{},this.settings,b);this.name=b.name;this.type=b.type;if(this.settings.scope){this.settings.props.scope=this.settings.scope}},updateProperty:function(b,c){this.settings.props[b].value=c;this._updatedProperties.push(this.settings.props[b])},getProperty:function(b){return this.settings.props[b]},getUpdatedProperties:function(){return this._updatedProperties},getProperties:function(){return this.settings.props},callbackRenderer:function(){if(this.settings.callbackRenderer&&a.isFunction(this.settings.callbackRenderer)){return this.settings.callbackRenderer()}},handler:function(){return this.settings.handler}});a.ig.igToolbarButtonDescriptor=a.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{onlyIcons:{value:true},labelText:{value:"&nbsp;"}}},init:function(b){this._super(b)}});a.ig.igToolbarSplitButtonDescriptor=a.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{items:[]}},init:function(b){this._super(b)}});a.ig.igToolbarComboDescriptor=a.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{valueKey:{value:"text"},textKey:{value:"value"},enableCheckboxes:{value:false},dropDownOnFocus:{value:true},selectedItems:{value:[{index:0}]},enableClearButton:{value:false},dataSource:{value:null},mode:{value:"dropdown"},dropDownAsChild:{value:true},focusOnSelect:{value:false}}},init:function(b){this._super(b);if(this.settings.dataSource){this.settings.props.dataSource.value=this.settings.dataSource}}});a.widget("ui.igToolbarButton",a.ui.igButton,{options:{allowToggling:true,isSelected:false},ENTER:13,_setOption:function(b,c){a.ui.igButton.prototype._setOption.apply(this,arguments);switch(b){case"allowToggling":this._setToggling(c);break;case"isSelected":this.options.isSelected=c;break}},_init:function(){var c=this,b=this.options;a.ui.igButton.prototype._init.apply(this);this._isToggled=false;this._setToggling(this.options.allowToggling);this.element.bind("keypress",a.proxy(this._onEnterKey,this));this.element.unbind("blur");this.element.bind("blur",function(d){c.element.removeClass(b.css.buttonFocusClasses)})},_setToggling:function(d){var b=this.options,c=this;b.allowToggling=d;if(b.allowToggling&&this.element.data("events").mouseup){this.element.unbind("mouseup");this.element.bind("click",function(){if(b.isSelected){c.element.removeClass(b.css.buttonActiveClasses)}c.element.removeClass(b.css.buttonFocusClasses);b.isSelected=!b.isSelected})}else{if(!b.allowToggling&&!this.element.data("events").mouseup){this.element.bind("mouseup",this._events.mouseup);this.element.unbind("mousedown");this.element.bind("mousedown",this._events.mousedown)}}},toggle:function(){var d=this,b=d.element,c=this.options;if(c.disabled===true||c.allowToggling===false){return}c.isSelected=!c.isSelected;b.toggleClass(c.css.buttonActiveClasses)},_onEnterKey:function(b){if(b.keyCode!==this.ENTER){return}this.element.mousedown()},destroy:function(){a.ui.igButton.prototype.destroy.call(this);this.element.unbind();this.element.removeClass("")}});a.widget("ui.mouseWrapper",a.ui.mouse,{options:{cancel:":input,option",distance:1,delay:0},events:{start:"start",drag:"drag",stop:"stop",capture:"capture"},_create:function(){var c=this,b=this._mouseDown;if(a.browser.msie&&a.browser.version.slice(0,1)==="9"){this._mouseDown=function(d){var e=d.preventDefault,f;d.preventDefault=function(){};f=b.apply(c,[d]);d.preventDefault=e;return f}}this._mouseInit()},destroy:function(){this._mouseDestroy();return this},_mouseStart:function(b){return this._trigger(this.events.start,b)},_mouseDrag:function(b){return this._trigger(this.events.drag,b)},_mouseStop:function(b){return this._trigger(this.events.stop,b)},_mouseCapture:function(b){return this._trigger(this.events.capture,b)}});a.widget("ui.igPopover",{css:{baseClasses:"ui-widget ui-igtooltip",arrowImageBaseClass:"ui-igtooltip-arrow-",closeButtonClass:"ui-icon ui-icon-close"},options:{renderHeader:false,renderCloseButton:true,closeOnBlur:true,direction:"auto",position:"auto",width:null,height:null,defaultMaxWidth:200,target:null,fadeTimespan:150},events:{popoverShowing:"popoverShowing",popoverShown:"popoverShown",popoverHiding:"popoverHiding",popoverHidden:"popoverHidden"},_create:function(){this._priorityDir=["top","bottom","right","left"];this._arrowDir=["bottom","top","left","right"];this._positions=["balanced","start","end"];this._directionIndex=-1;this._positionIndex=-1;this._forced=this.options.direction!=="auto"&&this.options.position!=="auto"},_createWidget:function(c,b){a.Widget.prototype._createWidget.apply(this,arguments);this.element=a(b);if(b&&b.nodeType!==undefined){this._renderPopover();this._attachEventsToTarget()}if(this.options.direction!=="auto"||this.options.position!=="auto"){this._getPrioritiesIndex()}},_setOption:function(b,c){switch(b){case"direction":this.options.direction=c;if(this.options.direction!=="auto"){this._getPrioritiesIndex()}this._forced=this.options.direction!=="auto"&&this.options.position!=="auto";break;case"position":this.options.position=c;if(this.options.position!=="auto"){this._getPrioritiesIndex()}this._forced=this.options.direction!=="auto"&&this.options.position!=="auto";break;case"target":this._detachEventsFromTarget();this.options.target=c;this._attachEventsToTarget();break;case"fadeTimespan":if(typeof c==="number"){this.options.fadeTimespan=c}break;case"renderHeader":case"renderCloseButton":case"closeOnBlur":case"width":case"height":case"defaultMaxWidth":throw new Error(a.ig.SharedLocale.locale.popoverOptionChangeNotSupported+" "+b)}},destroy:function(){this._detachEventsFromTarget();a("#"+this.id()+"_popover").remove();a.Widget.prototype.destroy.call(this);return this},id:function(){return this.element[0].id},container:function(){return a("#"+this.id()+"_popover_contentInner")},show:function(d,b){var c=d||this.options.target;if(b){this._setNewContent(b)}this._openPopover(c)},hide:function(){this._closePopover()},getContent:function(){return a("#"+this.id()+"_popover_contentInner").html()},setContent:function(b){if(typeof b==="string"){this._setNewContent(b)}},_renderPopover:function(){this.popover=a("<div></div>").attr("id",this.id()+"_popover").css({display:"none","white-space":"normal","word-wrap":"break-word",position:"absolute"}).addClass(this.css.baseClasses).appendTo(this.element);this._createContentDiv()},_createContentDiv:function(){var b;b=a("<div></div>").attr("id",this.id()+"_popover_contentFrame").css("position","relative").css("max-width",this.options.defaultMaxWidth).addClass("ui-widget-content ui-corner-all").appendTo(this.popover);if(this.options.renderCloseButton===true){a("<div></div>").attr("id",this.id()+"_popover_closeBtn").addClass(this.css.closeButtonClass).css({display:"block","float":"right",position:"relative",top:"-5px",left:"5px"}).bind("click.popover",a.proxy(this._closeBtnClick,this)).appendTo(b)}a("<div></div>").attr("id",this.id()+"_popover_contentInner").css("position","relative").appendTo(b);a("<div></div>").css("clear","both").appendTo(b)},_updateArrowDiv:function(f,e){var b=a("#"+this.id()+"_popover_arrow"),c=a("#"+this.id()+"_popover_contentFrame"),d;if(b.length===0){b=a("<div></div>").attr("id",this.id()+"_popover_arrow").attr("position","relative").addClass(this.css.arrowImageBaseClass+this._arrowDir[e]).appendTo(this.popover)}else{b.removeClass().addClass(this.css.arrowImageBaseClass+this._arrowDir[e])}d=this._getHiddenElementsDimensions([b,c]);switch(f){case"top":c.css({left:"",top:"","float":""});b.css({left:"",top:"","float":""});break;case"bottom":c.css({left:"",top:d[0].height,"float":""});b.css({left:"",top:d[1].height*-1,"float":""});break;case"left":c.css({left:"",top:"","float":"left"});b.css({left:"",top:"","float":"left"});break;case"right":c.css({left:d[0].width,top:"","float":"left"});b.css({left:d[1].width*-1,top:"","float":"left"});break}this.oDir=f},_targetMouseLeave:function(){if(this.options.closeOnBlur===true){this._closePopover()}},_targetMouseMove:function(){this._openPopover(a(this.options.target))},_closeBtnClick:function(b,c){this._closePopover();b.stopPropagation()},_attachEventsToTarget:function(){var b=this.options.target;if(b&&window.HTMLElement!==undefined&&b instanceof HTMLElement){a(b).unbind("mouseenter.popover").bind("mouseenter.popover",a.proxy(this._targetMouseMove,this));a(b).unbind("mouseleave.popover").bind("mouseleave.popover",a.proxy(this._targetMouseLeave,this))}},_detachEventsFromTarget:function(){var b=this.options.target;if(b&&window.HTMLElement!==undefined&&b instanceof HTMLElement){a(b).unbind("popover")}},_positionPopover:function(e){var d=0,b,c;if(this.options.direction==="auto"){do{this._updateArrowDiv(this._priorityDir[d],d);b="_"+this._priorityDir[d]+"Position";c=this[b](e);d++}while(c===false&&d<this._priorityDir.length);if(c===false){return}}else{this._updateArrowDiv(this.options.direction,this._directionIndex);b="_"+this.options.direction+"Position";if(!this[b](e)){return}}},_findProperPosition:function(d,m,h){var f=0,e,n,b,c,k=a(window),j,l,g;if(d==="left"){c="left";b="outerWidth";l=k.scrollLeft()}else{c="top";b="outerHeight";l=k.scrollTop()}if(h.offset()[c]+h[b]()>l+k[0][b]){j=k[0][b]+l-h.offset()[c]}else{j=h[b]()}if(h[b]()>this.popover[b]()){n=h.offset()[c]+j/2-this.popover[b]()/2;e=d==="left"?this._checkCollision(m,n):this._checkCollision(n,m)}else{if(this.options.position==="auto"){do{g=this._positions[f];n=this._getCounterPosition(h,j,g,c,b);e=d==="left"?this._checkCollision(m,n):this._checkCollision(n,m)}while(e===false&&++f<this._positions.length)}else{n=this._getCounterPosition(h,j,this.options.position,c,b);e=d==="left"?this._checkCollision(m,n):this._checkCollision(n,m)}}if(e===true){this._adjustArrowPosition(h,d,c,b)}return e},_getCounterPosition:function(e,f,d,c,b){var g;switch(d){case"balanced":g=e.offset()[c]+f/2-this.popover[b]()/2;break;case"start":g=e.offset()[c];break;case"end":g=e.offset()[c]-this.popover[b]()+f;break}return g},_topPosition:function(c){var b=c.offset().top-this.popover.outerHeight();return this._findProperPosition("left",b,c)},_bottomPosition:function(c){var b=c.offset().top+c.outerHeight();return this._findProperPosition("left",b,c)},_leftPosition:function(c){var b=c.offset().left-this.popover.outerWidth();return this._findProperPosition("top",b,c)},_rightPosition:function(c){var b=c.offset().left+c.outerWidth();return this._findProperPosition("top",b,c)},_checkCollision:function(f,b){var e=this.popover.outerWidth(),d=this.popover.outerHeight(),h=a(window),g,j,c;j=h.width()+h.scrollLeft();g=h.height()+h.scrollTop();if(b<h.scrollLeft()||b+e>j||f<h.scrollTop()||f+d>g){if(this._forced===false){return false}}c=this._getRelativeOffset();this.popover.css({top:f-c.top,left:b-c.left});return true},_getPrioritiesIndex:function(){var b;if(this.options.direction!=="auto"){for(b=0;b<this._priorityDir.length;b++){if(this.options.direction===this._priorityDir[b]){this._directionIndex=b;break}}}if(this.options.position!=="auto"){for(b=0;b<this._positions.length;b++){if(this.options.position===this._positions[b]){this._positionIndex=b;break}}}},_openPopover:function(d){var b,c,e=this.getContent();b={element:d,content:e,popover:this.popover};c=this._trigger(this.events.popoverShowing,this,b);if(c===true){if(b.content!==e&&typeof b.content==="string"){this._setNewContent(b.content)}this._positionPopover(d);this._currentTarget=d;this.popover.fadeIn(this.options.fadeTimespan);this._trigger(this.events.popoverShown,this,b)}},_closePopover:function(){var b,c;b={element:this._currentTarget,content:this.getContent(),popover:this.popover};c=this._trigger(this.events.popoverHiding,this,b);if(c===true){this.popover.fadeOut(this.options.fadeTimespan);this._trigger(this.events.popoverHidden,this,b)}},_adjustArrowPosition:function(e,d,c,b){},_getRelativeOffset:function(){var c={left:0,top:0},b=this.popover;while(b[0]!==null&&b[0]!==undefined&&b[0].nodeName!=="#document"){if(b.css("position")==="relative"){c.left=b.offset().left;c.top=b.offset().top;break}b=b.parent()}return c},_getHiddenElementsDimensions:function(c){var b=[],e,d;a("#"+this.id()+"_popover").show();for(e=0;e<c.length;e++){d=c[e];b.push({width:d.outerWidth(),height:d.outerHeight()})}a("#"+this.id()+"_popover").hide();return b},_setNewContent:function(b){a("#"+this.id()+"_popover_contentInner").html(b)}});if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("ig.ui.shared",["ig.util","jquery.ui.core","jquery.ui.widget"],function(){return a.ui.igLoading})}}(jQuery));
/*
* Infragistics.Web.ClientUI Upload localization resources 12.2.20122.2147
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
$.ig=$.ig||{};if(!$.ig.Upload){$.ig.Upload={};$.extend($.ig.Upload,{locale:{labelUploadButton:"Upload File",labelAddButton:"Add",labelClearAllButton:"Clear Uploaded",labelSummaryTemplate:"{0} of {1} uploaded",labelSummaryProgressBarTemplate:"{0}/{1}",labelShowDetails:"Show Details",labelHideDetails:"Hide Details",labelSummaryProgressButtonCancel:"Cancel",labelSummaryProgressButtonContinue:"Upload",labelSummaryProgressButtonDone:"Done",labelProgressBarFileNameContinue:"...",errorMessageFileSizeExceeded:"Max file size exceeded.",errorMessageGetFileStatus:"Could not get your current file status! Probably connection dropped.",errorMessageCancelUpload:"Could not send to server command to cancel upload! Probably connection dropped.",errorMessageNoSuchFile:"The file you requested could not be found. Probably this file is too big.",errorMessageOther:"There is internal error uploading file. Error code: {0}.",errorMessageValidatingFileExtension:"File extension validation failed.",errorMessageAJAXRequestFileSize:"AJAX error while trying to get file size.",errorMessageMaxUploadedFiles:"Maximum count of uploading files exceeded.",errorMessageMaxSimultaneousFiles:"Value of maxSimultaneousFilesUploads is incorrect. It should be more than 0 or null.",errorMessageTryToRemoveNonExistingFile:"You are trying to remove non-existing file with id {0}.",errorMessageTryToStartNonExistingFile:"You are trying to start non-existing file with id {0}.",titleUploadFileButtonInit:"Upload File",titleAddFileButton:"Add",titleCancelUploadButton:"Cancel",titleSummaryProgressButtonContinue:"Upload",titleClearUploaded:"Clear Uploaded",titleShowDetailsButton:"Show Details",titleHideDetailsButton:"Hide Details",titleSummaryProgressButtonCancel:"Cancel",titleSummaryProgressButtonDone:"Done",titleSingleUploadButtonContinue:"Upload",titleClearAllButton:"Clear Uploaded"}});
/*
 * Infragistics.Web.ClientUI jQuery File Upload 12.2.20122.2147
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.2.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  infragistics.util.js
 *  infragistics.ui.shared.js
 */
}if(typeof jQuery!=="function"){throw new Error("jQuery is undefined")}(function(a){a.widget("ui.igBrowseButton",a.ui.igButton,{_const:{filePickerWidth:"220px",filePickerHeight:"30px"},css:{filePickerClass:"ui-igbrowsebutton-filepicker"},options:{autoselect:true,multiplefiles:false},_id:function(b){return this.element[0].id+b},_create:function(){var b=this._id("_fp");a.extend(a.ui.igBrowseButton.prototype.options,a.ui.igButton.prototype.options);a.extend(a.ui.igBrowseButton.prototype.css,a.ui.igButton.prototype.css);a.ui.igButton.prototype._create.apply(this);this._createFilePicker(b);this._attachBrowseButtonEvents();if(this.options.disabled===true){this._enableFilePicker(true)}else{this.element.bind({click:function(c){c.preventDefault()}})}},_createFilePicker:function(b){a("#"+b).remove();this.filePicker=a('<input type="file" id="'+b+'" />').appendTo(a(document.body));this.filePicker.css({position:"absolute",margin:"-5px 0 0 -175px",padding:"0",width:"1px",height:"1px",fontSize:"14px",opacity:"0",cursor:"pointer",display:"block",zIndex:"1000000",filter:"alpha(opacity=0)"});this._setTitle(this.options.title)},_setTitle:function(c){var b=a("#"+this._id("_fp"));if(c===false){b.removeAttr("title")}else{b.attr("title",c)}},_attachBrowseButtonEvents:function(){var b=this;this.mouseMoveEvent={mousemove:function(c){b._mousemove(c)}};this._internalEvents={mouseover:function(c){b._mousemove(c);b._attachMouseMove(true)}};b.element.bind(this._internalEvents);b._filePickerBindChange()},_filePickerBindChange:function(){var d=this,b,c=a("#"+this._id("_fp"));d.tempClicked=false;d._filePickerEvents={change:function(e){b=d._fileFromPath(c.val());d._mousemove(e);if(!d._trigger("fileselect",e,{filePath:b})){return}},click:function(e){if(!d._trigger("click",e)){return false}}};c.bind(d._filePickerEvents)},attachFilePicker:function(c,h){var m=this,l,b,g=m.element,d=this.filePicker,k=g.offset(),j=parseInt(k.left,10),n=parseInt(k.top,10),f=d[0];l=parseInt(j+g[0].offsetWidth,10);b=parseInt(n+g[0].offsetHeight,10);if(c.pageX>=j&&c.pageX<=l&&c.pageY>=n&&c.pageY<=b){f.style.top=c.pageY+"px";f.style.left=c.pageX+"px";if(h===true){d.css({width:"1px",height:"1px"})}else{m.isVisibleFilePicker=true;d.css({width:m._const.filePickerWidth,height:m._const.filePickerHeight})}f.style.display="block";m._onMouseOver(c)}},getFilePicker:function(){var c=this._id("_fp"),b=a("#"+c);b.attr("id","").css({display:"none"});this._createFilePicker(c);this._filePickerBindChange();return b},_mousemove:function(c){var k=this,j,b,g=k.element,d=this.filePicker,h=a.ig.util.offset(g).left,l=a.ig.util.offset(g).top,f=d[0];j=parseInt(h+g[0].offsetWidth,10);b=parseInt(l+g[0].offsetHeight,10);if(c.pageX>=h&&c.pageX<=j&&c.pageY>=l&&c.pageY<=b){f.style.top=c.pageY+"px";f.style.left=c.pageX+"px";if(!k.isVisibleFilePicker){d.css({width:k._const.filePickerWidth,height:k._const.filePickerHeight});k.isVisibleFilePicker=true}f.style.display="block";k._onMouseOver(c)}else{if(k.isVisibleFilePicker){d.css({width:"1px",height:"1px"});k.isVisibleFilePicker=false}k._attachMouseMove(false);k._onMouseOut(c)}},_attachMouseMove:function(b){if(b){a(document).bind(this.mouseMoveEvent)}else{a(document).unbind(this.mouseMoveEvent)}},_setOption:function(b,c){a.ui.igButton.prototype._setOption.apply(this,arguments);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":this._enableFilePicker(c);a.ui.igButton.prototype._setOption.apply(this,arguments);break;case"title":this._setTitle(c);break;default:break}},_enableFilePicker:function(c){var b=a("#"+this._id("_fp"));if(c===false){this.isVisibleFilePicker=false;this._attachMouseMove(true);this.element.bind(this._internalEvents).mouseover()}else{this._attachMouseMove(false);b.css({width:"1px",height:"1px"});this.element.unbind(this._internalEvents)}},destroy:function(){this.element.unbind(this._internalEvents);this.element.unbind(this.mouseMoveEvent);a.Widget.prototype.destroy.apply(this,arguments);a.ui.igButton.prototype.destroy.apply(this);a("#"+this._id("_fp")).remove()},_fileFromPath:function(b){return b.replace(/(\/|\\)$/,"")}});a.extend(a.ui.igBrowseButton,{version:"12.2.20122.2147"});a.widget("ui.igUpload",{_const:{fileNameLimit:100,AjaxQueueName:"uploadrequestsqueue",debug:true,isProgressBarAnimationEnabled:true,isProgressBarRange:false,timeoutGetFileSize:1000,status:{NotStarted:0,Started:1,Finished:2,NoSuchFile:3,Canceled:4},errorCode:{MimeTypeValidation:1,FileSizeExceeded:2},clientSideErrorCode:{maxAllowedUploadingFiles:1,extensionValidation:2,startUpload:3,ajaxErrorGetFileStatus:4,ajaxErrorCancelUpload:5,removeFileUpload:6,ajaxErrorRequestFileSize:7,checkCanUpload:8},fileStatusNoError:-1,progressUpdateInterval:800,animateProgressBarInterval:200,showHideDetailsAnimationTimeout:500,doubleCheckRequestInterval:1000,removeSingleUploadAnimationTimeout:300,maxUploadFilesDefault:-1},defaultFileExtensionIcons:[{ext:[],css:"ui-icon ui-icon-document ui-igupload-progressbar-icon ui-igupload-progressbar-icon-default",def:true},{ext:["exe","app"],css:"ui-icon ui-icon-gear ui-igupload-progressbar-icon ui-igupload-progressbar-icon-exe",def:false},{ext:["gif","jpg","jpeg","png","bmp","yuv","tif","thm","psd"],css:"ui-icon ui-icon-image ui-igupload-progressbar-icon ui-igupload-progressbar-icon-images",def:false},{ext:["mp3","wav","mp4","aac","mid","wma","ra","iff","aif","m3u","mpa"],css:"ui-icon ui-icon-volume-on ui-icon ui-icon-image ui-igupload-progressbar-icon ui-igupload-progressbar-icon-music",def:false},{ext:["doc","docx","xls","xlsx","txt","ppt","pptx","pdf"],css:"ui-icon ui-icon-document ui-igupload-progressbar-icon ui-igupload-progressbar-icon-docs",def:false},{ext:["3gp","asf","asx","avi","flv","mov","mp4","mpg","rm","swf","vob","wmv"],css:"ui-icon ui-icon-video ui-igupload-progressbar-icon ui-igupload-progressbar-icon-video",def:false}],css:{clearClass:"ui-helper-clearfix",hiddenClass:"ui-helper-hidden",baseClassIE6:"ui-ie6",baseClassIE7:"ui-ie7",baseClassMoz:"ui-moz",baseClassOpera:"ui-opera",baseClassWebkit:"ui-webkit",startupBrowseButtonClasses:"ui-igstartupbrowsebutton",baseClass:"ui-widget ui-widget ui-widget-content ui-corner-all ui-igupload",baseMainContainerClass:"ui-igupload-basemaincontainer",multipleDialogClasses:"ui-iguploadmultiple",singleDialogClass:"ui-iguploadsingle",browseButtonClass:"ui-igupload-browsebutton",containerClass:"ui-igupload-container ui-widget-content",uploadProgressClass:"ui-igupload-uploadprogress",fileInfoMainContainer:"ui-igupload-fimaincontainer",progressContainer:"ui-helper-clearfix",progressBarUploadClass:"ui-igupload-progressbar-upload ui-igupload-progressbar-upload-single ui-helper-clearfix",progressBarFileNameClass:"ui-igupload-progressbar-filename",progressBarFileSizeClass:"ui-igupload-progressbar-filesize",progressBarInnerHTMLContainerClass:"ui-igupload-progressbar-container ui-helper-clearfix",containerButtonCancelClass:"ui-container-button-cancel-class  ui-helper-clearfix",summaryProgressBarClass:"ui-igupload-summaryprogressbar",summaryProgressContainerClass:"ui-igupload-summaryprogresscontainer",summaryProgressbarLabelClass:"ui-igupload-summaryprogress-label",summaryInformationContainerClass:"ui-igupload-summaryinformation-container ui-helper-clearfix",summaryUploadedFilesLabelClass:"ui-igupload-summaryuploadedfiles-label",summaryShowHideDetailsButtonClass:"ui-igupload-showhidedetails-button",summaryButtonClass:"ui-igupload-summary-button",summaryProgressBarInnerProgress:"ui-igupload-summaryprogres_summpbar_progress",summaryProgressBarSecondaryLabel:"ui-igupload-summaryprogress-label ui-igupload-summaryprogress-secondary-label",containerFUS:"ui-widget-content ui-igupload-progress-container ui-corner-all ui-helper-clearfix"},options:{width:"",height:"",autostartupload:false,labelUploadButton:a.ig.Upload.locale.labelUploadButton,labelAddButton:a.ig.Upload.locale.labelAddButton,labelClearAllButton:a.ig.Upload.locale.labelClearAllButton,labelSummaryTemplate:a.ig.Upload.locale.labelSummaryTemplate,labelSummaryProgressBarTemplate:a.ig.Upload.locale.labelSummaryProgressBarTemplate,labelShowDetails:a.ig.Upload.locale.labelShowDetails,labelHideDetails:a.ig.Upload.locale.labelHideDetails,labelSummaryProgressButtonCancel:a.ig.Upload.locale.labelSummaryProgressButtonCancel,labelSummaryProgressButtonContinue:a.ig.Upload.locale.labelSummaryProgressButtonContinue,labelSummaryProgressButtonDone:a.ig.Upload.locale.labelSummaryProgressButtonDone,labelProgressBarFileNameContinue:a.ig.Upload.locale.labelProgressBarFileNameContinue,errorMessageMaxFileSizeExceeded:a.ig.Upload.locale.errorMessageFileSizeExceeded,errorMessageGetFileStatus:a.ig.Upload.locale.errorMessageGetFileStatus,errorMessageCancelUpload:a.ig.Upload.locale.errorMessageCancelUpload,errorMessageNoSuchFile:a.ig.Upload.locale.errorMessageNoSuchFile,errorMessageOther:a.ig.Upload.locale.errorMessageOther,errorMessageValidatingFileExtension:a.ig.Upload.locale.errorMessageValidatingFileExtension,errorMessageAJAXRequestFileSize:a.ig.Upload.locale.errorMessageAJAXRequestFileSize,errorMessageTryToRemoveNonExistingFile:a.ig.Upload.locale.errorMessageTryToRemoveNonExistingFile,errorMessageTryToStartNonExistingFile:a.ig.Upload.locale.errorMessageTryToStartNonExistingFile,errorMessageMaxUploadedFiles:a.ig.Upload.locale.errorMessageMaxUploadedFiles,errorMessageMaxSimultaneousFiles:a.ig.Upload.locale.errorMessageMaxSimultaneousFiles,uploadUrl:"ig_fua34sf345sdf13sdf3454erdsf2345asd3425df5235d54df345.aspx",progressUrl:"IGUploadStatusHandler.ashx",allowedExtensions:[],showFileExtensionIcon:true,css:null,fileExtensionIcons:[{ext:[],css:"",def:false}],mode:"single",maxUploadedFiles:-1,maxSimultaneousFilesUploads:1,fileSizeMetric:"auto",controlId:"",fileSizeDecimalDisplay:2},events:{fileSelecting:"fileSelecting",fileSelected:"fileSelected",fileUploading:"fileUploading",fileUploaded:"fileUploaded",fileUploadAborted:"fileUploadAborted",cancelAllClicked:"cancelAllClicked",onError:"onError"},summaryButtonModes:{cancel:1,startupload:2,done:3},container:function(){return a("#"+this.element[0].id+"_wrprinit")},widget:function(){return this.element},_id:function(d,b){var c=this.element[0].id;if(b!==undefined){return c+"_"+b+"_"+d}return c+d},_create:function(){var b={formNumber:0,iframe:{ids:[]},pendingQueueIDs:[],uploadingIDs:[],batch:[],lastId:-1,filesInfo:[],countUploadingFiles:0,countTotalFiles:0,fileSizeUploaded:0,fileSizeTotal:0};this.allCancelled=false;this.fileInfoData=b;this._renderStartupBrowseButton();this.container().width(this.options.width).height(this.options.height);this._attachFakeIframe();this._analyzeFileExtensionIcons()},_analyzeFileExtensionIcons:function(){var d,f,b=this.options.fileExtensionIcons,h,c=a.extend(true,[],this.defaultFileExtensionIcons),g=c.length,k=[],e=false;if(b===undefined||b===null){this.options.fileExtensionIcons=c;return}h=b.length;if(h===1&&b[0].css===""){this.options.fileExtensionIcons=c;return}for(f=0;f<h;f++){for(d=0;d<g;d++){c[d].ext=this._removeCommonElementsInArrays(c[d].ext,b[f].ext)}if(b[f].def===true){e=true}k.push(b[f])}for(d=0;d<g;d++){if(c[d].ext.length>0||(e===false&&c[d].def===true)){k.push(c[d])}}this.options.fileExtensionIcons=k},_removeCommonElementsInArrays:function(b,c){return a.grep(b,function(d){return a.inArray(d,c)===-1})},_attachFakeIframe:function(){var c=this._id("_tempIframe"),b=a.browser.version.slice(0,1);if(a.browser.msie===true&&(b==="6"||b==="7"||b==="8")){a("#"+c).remove();setTimeout(a('<iframe src="javascript:false;" id="'+c+'" style="display: none;"></iframe>').appendTo(a("#"+this._id("_fu"))),300)}},_renderStartupBrowseButton:function(){var j=this,f=j.css,g=j.element,h=j.options,b=this._id("_ibb"),k=this._id("_wrprinit"),d,c;this.originalElement=g;d='<div id="'+k+'"></div>';g.wrap(d);g.hide();g=a("#"+k);b=this._id("_ibb");if(a.browser.msie===true&&a.browser.version.slice(0,1)==="6"){g.addClass(f.baseClassIE6)}else{if(a.browser.msie===true&&a.browser.version.slice(0,1)==="7"){g.addClass(f.baseClassIE7)}else{if(a.browser.opera===true){g.addClass(f.baseClassOpera)}else{if(a.browser.mozilla===true){g.addClass(f.baseClassMoz)}else{if(a.browser.webkit===true){g.addClass(f.baseClassWebkit)}}}}}c=a("<button></button>").appendTo(g).attr("id",b).addClass(f.startupBrowseButtonClasses);c.igBrowseButton({labelText:h.labelUploadButton,title:a.ig.Upload.locale.titleUploadFileButtonInit,fileselect:function(e){a(this).css({display:"none"});j._HTMLUpload();j._onBrowseButtonFileSelected(e,true)},disabled:h.disabled,click:function(e){var l=false;if(j._trigger(j.events.fileSelecting,e)===false){l=true}return !l}})},_HTMLUpload:function(){var p=this._id("_fu"),b=this._id("_bmncntr"),l=this.options,h=this.container(),m=this,g=m.css,j=this._id("_fc"),c=this._id("_bb"),f=this._id("_clrabtn"),n=this._id("_fi_main_cntnr"),d,k="";if(l.mode==="single"){k+='<div  class="'+g.singleDialogClass+'" id="$baseMainContainerId">';k+='   <div id="$uploaderId$" class="$baseMainContainerClass">';k+='       <div id="$fileContainerId$"></div>';k+='       <button id="$browseButtonId$" class="$browseButtonClass$"></button>';k+="   </div>";k+="</div>"}else{if(l.mode==="multiple"){k='<div class="'+g.multipleDialogClasses+'" id="$baseMainContainerId">';k+='   <div  id="$uploaderId$" class="$baseMainContainerClass">';k+='       <div id="$uploaderFilesContainer" class="$fuMainContainerClass">';k+='           <button id="$browseButtonId$" class="$browseButtonClass$"></button>';k+='           <button id="$clearAllButtonId$"></button>';k+='           <div id="$fileContainerId$"></div>';k+="       </div>";k+="   </div>";k+="</div>"}}k=k.replace("$uploaderId$",p).replace("$browseButtonId$",c).replace("$baseMainContainerId",b).replace("$browseButtonClass$",g.browseButtonClass).replace("$fileContainerId$",j).replace("$clearAllButtonId$",f).replace("$uploaderFilesContainer",n).replace("$fuMainContainerClass",g.fileInfoMainContainer).replace("$baseMainContainerClass",g.baseMainContainerClass);a(k).appendTo(h).css({width:l.width,height:l.height}).addClass(g.baseClass);d=a("#"+f);if(d.length>0){d.igButton({title:a.ig.Upload.locale.titleClearAllButton,labelText:l.labelClearAllButton,disabled:true,click:function(e){e.preventDefault();m.clearAll()},css:{buttonClasses:"ui-igbutton ui-igupload-button-clear-all",buttonHoverClasses:"",buttonActiveClasses:"",buttonFocusClasses:"",buttonLabelClass:""}})}a("#"+c).igBrowseButton({labelText:this.options.labelAddButton,title:a.ig.Upload.locale.titleAddFileButton,fileselect:function(e){m._onBrowseButtonFileSelected(e,false)},click:function(e){var o=false;if(m._trigger(m.events.fileSelecting,e)===false){o=true}return !o}});a("#"+j).addClass(g.containerClass);if(l.mode==="multiple"){m._spbRenderInit()}},_disableBrowseButton:function(b){a("#"+this._id("_bb")).igBrowseButton("option","disabled",b);a("#"+this._id("_ibb")).igBrowseButton("option","disabled",b)},_checkMaxUploadingFilesCount:function(){var c=this.options,b=true,d=this.fileInfoData.countTotalFiles+1;if(c.maxUploadedFiles!==this._const.maxUploadFilesDefault&&c.maxUploadedFiles!==null&&d>c.maxUploadedFiles){b=false}return b},_onBrowseButtonFileSelected:function(c,d){var f=this,b=this.fileInfoData,e=f.options,g=a("#"+this._id("_fu"));if(f._checkMaxUploadingFilesCount()===false){f._setError(e.errorMessageMaxUploadedFiles,f._const.clientSideErrorCode.maxAllowedUploadingFiles,"clientside");f._disableBrowseButton(true);return}if(e.maxUploadedFiles!==null&&e.maxUploadedFiles!==this._const.maxUploadFilesDefault&&e.maxUploadedFiles===(b.countTotalFiles+1)){f._disableBrowseButton(true)}if(e.mode==="single"){if(b.iframe.ids.length===0){f._removeSingleUpload(b.lastId);if(f._attachIframe(c,g,d)===true){f._disableBrowseButton(true)}}}else{if(e.mode==="multiple"){if(f._attachIframe(c,g,d)===false){f._disableBrowseButton(false)}}}},clearAll:function(){var c=this.container(),b=c.data("finishedIDs"),d,f;if(b===undefined){return}f=b.length;for(d=0;d<f;d++){this._removeSingleUpload(b[d])}b=[];c.data("finishedIDs",b);this._disableClearAllButton()},_enableClearAllButton:function(){a("#"+this._id("_clrabtn")).igButton({disabled:false})},_disableClearAllButton:function(){a("#"+this._id("_clrabtn")).igButton("option","disabled",true)},_attachIframe:function(f,u,p){var s=this,r=s.options,e=this.fileInfoData,c=this._id("_bb"),b=a("#"+c),h=e.formNumber++,n=this._id("_ifrm",h),l=this._id("_frm",h),j,g=this.fileInfoData,m,k,q=s._randomString(30),t=s._const.status.Started,d=r.controlId,v=r.uploadUrl+"?key="+q+"&cid="+d;if(p===true){j=a("#"+this._id("_ibb")).igBrowseButton("getFilePicker")}else{j=b.igBrowseButton("getFilePicker")}if(s._validateFileExtension(j[0].value)===false){j.remove();s._setError(r.errorMessageValidatingFileExtension,s._const.clientSideErrorCode.extensionValidation,"clientside");if(r.mode==="multiple"){s._spbRenderProgress()}if(r.maxUploadedFiles!==null&&r.maxUploadedFiles>=(e.countTotalFiles+1)){s._disableBrowseButton(false)}return false}g.filesInfo[h]={path:j.val(),key:q,sizeBytes:0,uploadedBytes:0,status:s._const.status.NotStarted,checksNoSuchFile:0,innerStatus:s._const.status.NotStarted};g.countTotalFiles++;s._spbRenderProgress();m=a('<iframe src="javascript:false;" id="'+n+'" name="'+n+'"></iframe>').appendTo(a(document.body)).css({display:"none"});k=a('<form method="post" enctype="multipart/form-data"></form>').attr("id",l).attr("target",n).attr("action",v).appendTo(a(document.body));j.attr("name",l+"_if").attr("id",l+"_if").appendTo(k);s._HTMLSingleUpload(h);if(r.autostartupload===true){if(s._checkCanUpload()===true){s.startUpload(h)}else{s._addPendingId(h);t=s._const.status.NotStarted;s._getFileSize(h,q)}}else{if(r.mode==="single"){s._showSingleUploadStartUpload(true,h);s._getFileSize(h,q)}else{s._addIDBatch(h);t=s._const.status.NotStarted;s._getFileSize(h,q)}}e.iframe.ids[e.iframe.ids.fileId]={id:h,status:t};if(r.mode==="multiple"){s._spbCheckModeButton()}s._trigger(s.events.fileSelected,f,{fileId:h,filePath:s._getOnlyFileName(j.val())});return true},_showSingleUploadStartUpload:function(){var d=this,c=d.options,f="_strtuplbtn",e=a("#"+this._id(f)),b=a("#"+this._id("_bb"));if(e.length===0){a('<button id="'+d._id(f)+'"></button>').appendTo(a("#"+d._id("_fu"))).igButton({labelText:c.labelSummaryProgressButtonContinue,title:a.ig.Upload.locale.titleSingleUploadButtonContinue,click:function(g){g.preventDefault();d.startUpload((d.fileInfoData.formNumber-1),g);b.igBrowseButton("attachFilePicker",g,true)}});e=a("#"+this._id(f))}b.hide();e.show()},_removeIframe:function(f){var g=this,c=this.fileInfoData,e=this._id("_ifrm",f),d=this._id("_frm",f),b=a("#"+g._id("_bb"));a("#"+e).remove();a("#"+d).remove();c.iframe.ids=g._removeElementArrayById(c.iframe.ids,f);if(g.options.mode==="single"){b.igBrowseButton("option","disabled",false);c.lastId=f}this._attachFakeIframe()},_HTMLSingleUpload:function(m){var w=this,r=this.options,c=w.css,e=w._id("_fc"),k=w._id("_fus",m),y=w._id("_snglpbar",m),q=w._id("_icn",m),l=w._id("_frm",m),b=w._id("_cbtn",m),h=l+"_if",d=a("#"+e),g=a("#"+h),j,f=g.val(),n,t=w._id("_pbrflnm",m),v=w._id("_pbrflsz",m),s,u,x,p=w._getFileExtensionIconPath(w._getFileExtension(f));n='<div id="'+k+'">';n+='   <div class="'+c.containerFUS+'">';n+='       <div class="'+c.containerButtonCancelClass+'">';n+='           <button id="'+b+'"></button>';n+="       </div>";n+='       <div class="'+c.progressContainer+'">';n+='           <div class="'+c.progressBarInnerHTMLContainerClass+'" title="'+f+'">';n+='               <span id="'+q+'" class="'+p+'"></span>';n+='               <span class="'+c.progressBarFileNameClass+'" id="'+t+'"></span>';n+='               <span class="'+c.progressBarFileSizeClass+'" id="'+v+'"></span>';n+="           </div>";n+='           <div id="'+y+'" class="'+c.progressBarUploadClass+'"></div>';n+="       </div>";n+="   </div>";n+="</div>";a(n).appendTo(d);j=a("#"+k).addClass(c.uploadProgressClass+" "+c.clearClass);x=a("#"+y);a("#"+b).igButton({onlyIcons:true,icons:{primary:"ui-icon-closethick"},title:a.ig.Upload.locale.titleCancelUploadButton,click:function(o){o.preventDefault();w.cancelUpload(m);a("#"+b).igButton("option","disabled",true).igButton("option","icons",{primary:"ui-icon-check",secondary:null})},css:{buttonClasses:"ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-igbutton ui-igupload-cancel-button",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"}});x.igProgressBar({animate:w._const.isProgressBarAnimationEnabled,animateTimeout:w._const.animateProgressBarInterval,range:w._const.isProgressBarRange,value:0});if(!r.showFileExtensionIcon){a("#"+q).css("display","none")}s=a("#"+t);u=a("#"+v);f=w._getOnlyFileName(f);x.data("originalFileName",f);if(f.length>w._const.fileNameLimit){f=f.substr(0,w._const.fileNameLimit)}s.text(w._formatFilePath(f));w._renderFileName(m,0,f)},_renderFileName:function(e,c,d){var m=this,f=m.options,b=d,h="",g,j=a("#"+m._id("_pbrflnm",e)),k=a("#"+m._id("_pbrflsz",e)),p=a("#"+m._id("_snglpbar",e)).width(),n=a("#"+m._id("_snglpbar",e)),l=k.width();if(j.length===0){return}if(b===undefined||b===null){b=n.data("fileName")}if(p<=0){b=f.labelProgressBarFileNameContinue;j.text(b)}else{if(c!==0&&c!==undefined&&c!==null){g=k.text();l=k.text(m._formatFileSize(c)+"/"+m._formatFileSize(c)).width();k.text(g)}while(j.position().left+j.width()+l>=p&&(h!==b)){h=b;b=b.substr(0,b.length/2);if(h===b&&b.length-1>1){b=b.substr(0,(b.length-1)/2)}j.text(b+f.labelProgressBarFileNameContinue)}if(j.position().left+j.width()+k.width()>=p){b=f.labelProgressBarFileNameContinue}}n.data("fileName",b)},_removeSingleUpload:function(d){var e=this,b=e._id("_fus",d),c=b+"_"+e._randomString(20);if(e.options.mode==="multiple"){a("#"+b).attr("id",c);e._renderAnimatedRemovingUpload(c)}else{if(e.options.mode==="single"){a("#"+b).hide().remove()}}},_renderAnimatedRemovingUpload:function(b){a("#"+b).slideUp(this._const.removeSingleUploadAnimationTimeout,function(){a(this).remove()})},startUpload:function(d){var e=this,c=e._id("_frm",d),b=this.fileInfoData;if(d===null||b.filesInfo[d]===null||b.filesInfo[d]===undefined){e._setError(e.options.errorMessageTryToStartNonExistingFile.replace("{0}",d),e._const.clientSideErrorCode.startUpload,"clientside");return}if(b.filesInfo[d].status!==e._const.status.NotStarted){return}a("#"+c).submit();e._addUploadingID(d);e._removeIDBatch(d);e._spbCheckModeButton();b.filesInfo[d].status=e._const.status.Started;b.filesInfo[d].innerStatus=e._const.status.Started;e._spbRenderProgress();if(this.options.mode==="single"){a("#"+e._id("_strtuplbtn")).hide();a("#"+e._id("_bb")).igBrowseButton("option","disabled",true).show()}setTimeout(function(){e._getFileStatus(d,true)},e._const.progressUpdateInterval)},_getFileStatus:function(k,n){var r=this,q=r.options,j=r._id("_frm",k),g=j+"_if",m=false,u="",b=0,h=0,f=a("#"+g),t=this._getFileInfo(k),d=this.fileInfoData,p=r._getKey(k),e=d.filesInfo[k],c,l,s="";if(p===null||p===undefined){return}p=p.replace("-$#","").replace("#$-","");a.ajaxQueue("uploadrequestsqueue",{url:r._formatURL(q.progressUrl,a.param({key:p,command:"status"})),dataType:"json",cache:false,success:function(o){b=parseInt(o.bytesUploaded,10);u=parseInt(o.status,10);h=parseInt(o.size,10);s=o.serverMessage;m=(u===r._const.status.Finished);c=parseInt(o.error,10);l=(!isNaN(c)&&c!==r._const.fileStatusNoError);if(e.innerStatus===r._const.status.Canceled&&l){return}if(l===true&&u!==r._const.status.NoSuchFile){r._removeUploadSetError(k,q.errorMessageOther.replace("{0}",c),c,"serverside",s);return}if(t!==null&&t.status!==r._const.status.Canceled){d.fileSizeUploaded-=t.uploadedBytes;if(t.sizeBytes===0||t.sizeBytes===null){t.sizeBytes=h;d.fileSizeTotal+=h}else{if(t.sizeBytes!==h){h=t.sizeBytes}}if(m){d.countUploadingFiles++}t.uploadedBytes=b;t.status=u;d.fileSizeUploaded+=t.uploadedBytes;r._spbRenderProgress();if(r._trigger(r.events.fileUploading,null,{fileId:k,filePath:r._getOnlyFileName(f.val()),totalSize:h,uploadedBytes:b,fileStatus:u})===false){r.cancelUpload(k)}}if(m||u===r._const.status.Started){if(m){r._removeUploadingID(k);if(q.mode==="multiple"){r._spbCheckModeButton();r._submitNextPendingId()}}r._renderStatus(k,b,h,m,n);if(!m){setTimeout(function(){r._getFileStatus(k,false)},r._const.progressUpdateInterval)}}else{if(u===r._const.status.NoSuchFile){if(e!==null&&e!==undefined&&e.checksNoSuchFile===0){e.checksNoSuchFile++;setTimeout(function(){r._getFileStatus(k,false)},r._const.doubleCheckRequestInterval)}else{r._removeUploadSetError(k,q.errorMessageNoSuchFile,"nosuchfilekeyid","serverside",s)}}}},error:function(){r._setError(q.errorMessageGetFileStatus,r._const.clientSideErrorCode.ajaxErrorGetFileStatus,"clientside")}})},_removeUploadSetError:function(e,c,b,d,h){var g=this,f=this.options;g._removeIframe(e);g._removeFileUpload(e);g._setError(c,b,d,h);if(f.mode==="multiple"){g._spbCheckModeButton();g._submitNextPendingId()}},cancelUpload:function(g){var k=this,j=k.options,d=null,n=k._id("_snglpbar",g),m=a("#"+n),f=a("#"+k._id("_frm",g)+"_if"),e=f.val(),p=0,c=0,b=null,h=this._getKey(g),l=this._getFileInfo(g);p=m.data("totalSize");c=m.data("bytesUploaded");if(p===undefined){p=0}if(c===undefined){c=0}if(l!==null){if(l.status===k._const.status.Started){l.innerStatus=k._const.status.Canceled;a.ajaxQueue("uploadrequestsqueue",{url:k._formatURL(j.progressUrl,a.param({key:h,command:"cancel"})),dataType:"json",cache:false,success:function(){if(j.autostartupload===false&&j.mode==="multiple"){d=a("#"+k._id("_spbtncncl"));b=d.data("ids");b=k._removeElementFromArray(b,g);d.data("ids",b)}k._trigger(k.events.fileUploadAborted,null,{fileId:g,filePath:k._getOnlyFileName(e),uploadedBytes:c,totalSize:p,status:k._const.status.Canceled});k._removeFileUpload(g)},error:function(){k._setError(j.errorMessageCancelUpload,k._const.clientSideErrorCode.ajaxErrorCancelUpload,"clientside");k._removeFileUpload(g)}})}else{if(l.status===k._const.status.NotStarted){if(j.mode==="single"){a("#"+this._id("_strtuplbtn")).hide();a("#"+this._id("_bb")).igBrowseButton("option","disabled","false").show()}k._trigger(k.events.fileUploadAborted,null,{fileId:g,filePath:k._getOnlyFileName(e),uploadedBytes:0,totalSize:p,status:k._const.status.NotStarted});k._removeFileUpload(g)}}}},_removeFileUpload:function(e){var g=this,f=g.options,c=g._id("_cbtn",e),k=g._id("_snglpbar",e),j=a("#"+k),l=0,b=0,d=this.fileInfoData,h=this._getFileInfo(e);if(h===null){g._setError(f.errorMessageTryToRemoveNonExistingFile.replace("{0}",e),g._const.clientSideErrorCode.removeFileUpload,"clientside");return}l=j.data("totalSize");b=j.data("bytesUploaded");if(l===undefined){l=0}if(b===undefined){b=0}d.countTotalFiles--;h.status=g._const.status.Canceled;d.fileSizeUploaded-=h.uploadedBytes;d.fileSizeTotal-=h.sizeBytes;g._spbRenderProgress();if(f.mode==="multiple"){g._removeUploadingID(e);g._removePendingId(e);g._removeIDBatch(e);if(this.allCancelled===false){g._submitNextPendingId()}g._spbCheckModeButton()}a("#"+c).remove();g._removeIframe(e);g._removeSingleUpload(e);g._disableBrowseButton(!g._checkMaxUploadingFilesCount())},_getKey:function(c){var b=this.fileInfoData.filesInfo[c];if(b!==null&&b!==undefined){return b.key}return null},_singleFileUploadFinished:function(d){var c=this.container(),f=this,b;a("#"+f._id("_cbtn",d)).igButton("option","disabled",true).igButton("option","icons",{primary:"ui-icon-check",secondary:null});f._removeIframe(d);if(f.options.mode==="multiple"){f._enableClearAllButton();b=c.data("finishedIDs");if(b===undefined){b=[]}b.push(d);c.data("finishedIDs",b)}},_renderStatus:function(f,b,e,g){var k=this,c,h,n=a("#"+k._id("_pbrflsz",f)),m=k._id("_snglpbar",f),l=a("#"+m),j=0,d;if(g){b=e;k._singleFileUploadFinished(f)}if(e!==0&&isNaN(b)===false&&isNaN(e)===false){j=(b/e)*100}l.data("totalSize",e);l.data("bytesUploaded",b);d=l.data("isFileNameRendered");c=l.data("fileName");h=l.data("originalFileName");l.igProgressBar("option","value",j);n.text(k._formatFileSize(b)+"/"+k._formatFileSize(e));if(d!==true){l.data("isFileNameRendered",true);k._renderFileName(f,e)}if(g){k._trigger(k.events.fileUploaded,null,{fileId:f,filePath:h,totalSize:b});if(k._checkMaxUploadingFilesCount()===false){k._disableBrowseButton(true);return}}},_formatURL:function(c,b){if(c.indexOf("?")===-1){c+="?"}c+=b;return c},_showHideIcons:function(d){var b=this.fileInfoData.filesInfo,c;for(c in b){if(b[c]!==undefined){a("#"+this._id("_icn",c)).css(d)}}},_setWidthHeightAllUploads:function(f,d){var b=this.fileInfoData.filesInfo,e=(d?"height":"width"),c;for(c in b){if(b[c]!==undefined){a("#"+this._id("_snglpbar",c)).igProgressBar("option",e,f)}}},_setOption:function(b,e){var d=this.options.mode,c=this.options.autostartupload;a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"width":this.container().width(e);a("#"+this._id("_bmncntr")).width(e);this._reRenderFileSizeMetrics();this._reRenderFileNames();break;case"height":this.container().height(e);a("#"+this._id("_bmncntr")).height(e);break;case"labelUploadButton":a("#"+this._id("_ibb")).igBrowseButton("option","labelText",e);break;case"labelAddButton":a("#"+this._id("_bb")).igBrowseButton("option","labelText",e);break;case"labelClearAllButton":a("#"+this._id("_clrabtn")).igButton("option","labelText",e);break;case"labelSummaryTemplate":case"labelSummaryProgressBarTemplate":this._spbRenderProgress();break;case"labelShowDetails":case"labelHideDetails":this._setShowHideDetailsButtonText(a("#"+this._id("_shdbtn")).is("hidden"));a("#"+this._id("_shdbtn")).text(e);break;case"labelSummaryProgressButtonCancel":if(this.spbButtonMode===this.summaryButtonModes.cancel){a("#"+this._id("_spbtncncl")).igButton("option","labelText",e)}break;case"labelSummaryProgressButtonContinue":if(this.spbButtonMode===this.summaryButtonModes.startupload){a("#"+this._id("_spbtncncl")).igButton("option","labelText",e)}break;case"labelSummaryProgressButtonDone":if(this.spbButtonMode===this.summaryButtonModes.done){a("#"+this._id("_spbtncncl")).igButton("option","labelText",e)}break;case"showFileExtensionIcon":this._showHideIcons({display:((!e)?"none":"block")});break;case"fileSizeMetric":this._reRenderFileSizeMetrics();break;case"fileSizeDecimalDisplay":this._reRenderFileSizeMetrics();break;case"maxUploadedFiles":this._disableBrowseButton(!this._checkMaxUploadingFilesCount());break;case"mode":if(d!==e){this._destroyMarkup();this._create()}break;case"disabled":this._disableBrowseButton(e);break;case"autostartupload":if(e===true&&e!==c){this._spbSubmitAllButton()}break}},_reRenderFileSizeMetrics:function(){var c=this.fileInfoData.filesInfo,g=c.length,f,b=0,k=this,e,d,h,n,m,j=0;for(f=0;f<g;f++){n=a("#"+k._id("_pbrflsz",f));if(n.length===0){continue}e=c[f].sizeBytes;b=c[f].uploadedBytes;m=a("#"+k._id("_snglpbar",f));if(e!==0&&isNaN(b)===false&&isNaN(e)===false){j=(b/e)*100}d=m.data("fileName");h=m.data("originalFileName");n.text(k._formatFileSize(b)+"/"+k._formatFileSize(e));m.data("isFileNameRendered",true);k._renderFileName(f,e);a("#"+k._id("_summpbrlbl_1")).width(a("#"+this._id("_summpbar")).width())}this._spbRenderProgress()},_destroyMarkup:function(){var d=a("#"+this._id("_ibb")),c=a("#"+this._id("_bb")),b=a("#"+this._id("_bmncntr"));this.originalElement.show().unwrap();d.igBrowseButton("destroy");c.igBrowseButton("destroy");d.remove();b.remove();this.container().remove()},destroy:function(){this._destroyMarkup();a.Widget.prototype.destroy.apply(this,arguments)},_getFileSize:function(e,g){var j=this,h=this.options,d=this._id("_fszfrm",e),b=a("#"+j._id("_frm",e)+"_if"),f=this._id("_fszifrm",e),c,k=j._formatURL(h.uploadUrl,a.param({key:g,command:"fileSize"}));a('<iframe src="javascript:false;" id="'+f+'" name="'+f+'"></iframe>').appendTo(a(document.body)).css({display:"none"});a('<form method="post" id="'+d+'" target="'+f+'" enctype="multipart/form-data"></form>').appendTo(a(document.body)).css({display:"none"}).attr("action",k);c=a("#"+d);b.appendTo(c);c.submit();c.remove();a("#"+f).ready(function(){setTimeout(function(){j._sendRequestFileSize(e,g)},j._const.timeoutGetFileSize)});b.appendTo(a("#"+j._id("_frm",e)))},_removeGetFileSizeHTML:function(c){var d=a("#"+this._id("_fszifrm",c)),b=a("#"+this._id("_fszfrm",c));d.remove();b.remove()},_sendRequestFileSize:function(d,e){var g=this,k=g._id("_snglpbar",d),j=a("#"+k),f=this.options,c=0,b=this.fileInfoData,h=this._getFileInfo(d);if(h.sizeBytes!==0){return}a.ajaxQueue("uploadrequestsqueue",{url:g._formatURL(f.progressUrl,a.param({key:e,command:"fileSize"})),dataType:"json",cache:false,success:function(l){c=parseInt(l.fileSize,10);if(isNaN(c)===true){return}j.data("totalSize",c);if(h!==null){h.sizeBytes=c;b.fileSizeTotal+=c;g._spbRenderProgress()}g._renderStatus(d,0,c,false,false);g._removeGetFileSizeHTML(d)},error:function(){g._setError(f.errorMessageAJAXRequestFileSize,g._const.clientSideErrorCode.ajaxErrorRequestFileSize,"clientside");g._removeGetFileSizeHTML(d)}})},_onShowHideDetailsClick:function(){var e=this,b=a("#"+e._id("_fc")),d=b.css("margin-top"),c=b.css("margin-bottom");if((a.browser.msie===true&&a.browser.version.slice(0,1)==="6")||(a.browser.msie===true&&a.browser.version.slice(0,1)==="7")){e._setShowHideDetailsButtonText(b.is(":hidden"));if(b.is(":hidden")){b.show();e._reRenderFileNames()}else{b.hide()}e._setShowHideDetailsButtonText(b.is(":hidden"))}else{b.css({"margin-top":0,"margin-bottom":0});b.slideToggle(e._const.showHideDetailsAnimationTimeout,function(){b.css({"margin-top":d,"margin-bottom":c});e._setShowHideDetailsButtonText(b.is(":hidden"));if(b.is(":hidden")===false){e._reRenderFileNames()}})}},_reRenderFileNames:function(){var b=this.fileInfoData.filesInfo,d=b.length,c,e;for(c=0;c<d;c++){e=a("#"+this._id("_snglpbar",c)).data("originalFileName");a("#"+this._id("_pbrflnm",c)).text(e);this._renderFileName(c,0,e)}},_setShowHideDetailsButtonText:function(b){var c=this.options,d=a("#"+this._id("_shdbtn"));if(b){d.text(c.labelShowDetails);d.attr("title",a.ig.Upload.locale.titleShowDetailsButton)}else{d.text(c.labelHideDetails);d.attr("title",a.ig.Upload.locale.titleHideDetailsButton)}},getFileInfoData:function(){return this.fileInfoData},cancelAll:function(){var d,c=this.fileInfoData,j=c.uploadingIDs,g=j.length,h=c.pendingQueueIDs,f=h.length,b=c.batch,e=b.length;this.allCancelled=true;for(d=0;d<g;d++){if(j[d]!==undefined){this.cancelUpload(j[d])}}for(d=0;d<f;d++){if(h[d]!==undefined){this.cancelUpload(h[d])}}for(d=0;d<e;d++){if(b[d]!==undefined){this.cancelUpload(b[d])}}j=[];h=[];b=[];a("#"+this._id("_spbtncncl")).data("ids",[]);this.allCancelled=false},_submitAllFormsUpload:function(){var g=this,b,c,d=this.fileInfoData.batch,e=d.length,f=[];for(b=0;b<e;b++){c=d[b];if(g._checkCanUpload()){g.startUpload(c)}else{g._addPendingId(c);f.push(c)}}this.fileInfoData.batch=[]},_spbRenderInit:function(){var h=this,f=this.options,b=h.css,t=this._id("_fu"),e=f.labelSummaryProgressButtonContinue,p=this._id("_spbcntr"),m=this._id("_summpbrlbl"),l=this._id("_summpbar"),r=this._id("_summplbl"),j=this._id("_shdbtn"),n=this._id("_spbtncncl"),q=this._id("_spdtlbtn"),k,d="",c,g="progressData",s=a.ig.Upload.locale.titleSummaryProgressButtonContinue;d+='<div id="$summaryProgressContainerId$">';d+='   <div  class="'+b.summaryInformationContainerClass+'">';d+='       <span id="$summaryProgressLabelId$" class="'+b.summaryUploadedFilesLabelClass+'"></span><a href="javascript:void(0);" id="$showHideDetailsId$" class="'+b.summaryShowHideDetailsButtonClass+'">$labelShowHideDetails$</a>';d+="   </div>";d+='   <div class="'+b.clearClass+'">';d+='       <button id="$summaryProgressButtonCancelId$"></button>';d+='       <div id="$summaryProgressBarId$"></div>';d+="   </div>";d+="</div>";d=d.replace("$summaryProgressContainerId$",p).replace("$summaryProgressLabelId$",r).replace("$summaryProgressDetailsButtonId$",q).replace("$summaryProgressBarId$",l).replace("$showHideDetailsId$",j).replace("$labelShowHideDetails$",f.labelHideDetails).replace("$labelSummaryProgressButtonCancel$",f.labelSummaryProgressButtonCancel).replace("$summaryProgressButtonCancelId$",n);a(d).appendTo(a("#"+t));c={IDs:{},CurrentUploadedFiles:0,CurrentUploadedSize:0,TotalFileSize:0,TotalFiles:0,UploadingFiles:0};a("#"+p).data(g,c).addClass(b.summaryProgressContainerClass+" "+b.clearClass);k=a("#"+l);a('<span id="'+m+'"></span>').addClass(b.summaryProgressbarLabelClass).appendTo(k.igProgressBar({animate:h._const.isProgressBarAnimationEnabled,animateTimeout:h._const.animateProgressBarInterval,range:h._const.isProgressBarRange,value:0}).addClass(b.summaryProgressBarClass));a('<div id="'+m+'_1"></div>').width(k.width()).addClass(b.summaryProgressBarSecondaryLabel).appendTo(a("#"+this._id("_summpbar_progress")).addClass(b.summaryProgressBarInnerProgress));a("#"+j).bind({click:function(o){o.preventDefault();h._onShowHideDetailsClick()}});if(a.ig.Upload.locale.titleHideDetailsButton!==false){a("#"+j).attr("title",a.ig.Upload.locale.titleHideDetailsButton)}if(f.autostartupload){e=f.labelSummaryProgressButtonCancel;s=a.ig.Upload.locale.titleSummaryProgressButtonCancel;this.spbButtonMode=this.summaryButtonModes.cancel}a("#"+n).igButton({labelText:e,title:s,disabled:false,click:function(o){o.preventDefault();h._spbOnClickButton(o)}}).addClass(b.summaryButtonClass)},_spbRenderProgress:function(){var e=this.options,f=a("#"+this._id("_summpbar")),j=a("#"+this._id("_summplbl")),g=a("#"+this._id("_summpbrlbl")),h=a("#"+this._id("_summpbrlbl_1")),k="",l=0,b=this.fileInfoData,c=b.fileSizeTotal,d=b.fileSizeUploaded;if(c!==0&&isNaN(c)===false){l=(d/c)*100}else{if(c===0){l=0}}if(b.countUploadingFiles===b.countTotalFiles){if(b.countTotalFiles===0){l=0}else{l=100}d=c}f.igProgressBar("option","value",l);k=e.labelSummaryProgressBarTemplate.replace("{0}",this._formatFileSize(d)).replace("{1}",this._formatFileSize(c)).replace("{2}",l);j.html(e.labelSummaryTemplate.replace("{0}",b.countUploadingFiles).replace("{1}",b.countTotalFiles));g.text(k);h.text(k)},_spbOnClickButton:function(b){var d=this.summaryButtonModes,c=this.spbButtonMode;b.preventDefault();if(c===d.cancel){this._trigger(this.events.cancelAllClicked,b);this.cancelAll()}else{if(c===d.startupload){this._spbSubmitAllButton()}}},_spbSubmitAllButton:function(){this._submitAllFormsUpload();this._spbCheckModeButton()},_spbCheckModeButton:function(){var b=this.fileInfoData;if(this.options.autostartupload){if(b.pendingQueueIDs.length>0||b.uploadingIDs.length>0){this._spbSetCancelButton()}else{this._spbSetButtonDone()}}else{if(b.pendingQueueIDs.length===0&&b.uploadingIDs.length===0){if(b.batch.length>0){this._spbSetContinueButton()}else{this._spbSetButtonDone()}}else{this._spbSetCancelButton()}}},_spbSetButtonDone:function(){var c=this.options,b=a("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.done;b.igButton("option","labelText",c.labelSummaryProgressButtonDone).igButton("option","title",a.ig.Upload.locale.titleSummaryProgressButtonDone).igButton("option","disabled",true)},_spbSetContinueButton:function(){var c=this.options,b=a("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.startupload;b.igButton({title:a.ig.Upload.locale.titleSummaryProgressButtonContinue,labelText:c.labelSummaryProgressButtonContinue,disabled:false})},_spbSetCancelButton:function(){var b=a("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.cancel;b.igButton("option","labelText",this.options.labelSummaryProgressButtonCancel).igButton("option","title",a.ig.Upload.locale.titleSummaryProgressButtonCancel).igButton("option","disabled",false)},_getFileInfo:function(c){var b=this.fileInfoData.filesInfo[c];if(b===undefined||b===null){return null}return b},_formatFilePath:function(b){var c=b.lastIndexOf("/");b=b.replace(/(\/|\\)$/,"");if(c===-1){c=b.lastIndexOf("\\")}return b.substring(c+1)},_checkCanUpload:function(){var e=this.options,c=this.fileInfoData,b=true,d=e.maxSimultaneousFilesUploads;if(e.mode==="multiple"&&d!==null&&c.uploadingIDs.length>=d){b=false;if(d<=0){this._setError(e.errorMessageMaxSimultaneousFiles,this._const.clientSideErrorCode.checkCanUpload,"clientside")}}return b},_addPendingId:function(b){this.fileInfoData.pendingQueueIDs.push(b)},_removePendingId:function(b){var d=this.fileInfoData.pendingQueueIDs,c;if(b!==undefined&&b!==null){c=b;this.fileInfoData.pendingQueueIDs=this._removeElementFromArray(d,c)}else{c=d.shift();if(c===undefined){c=null}}return c},_addUploadingID:function(b){this.fileInfoData.uploadingIDs.push(b)},_removeUploadingID:function(b){this.fileInfoData.uploadingIDs=this._removeElementFromArray(this.fileInfoData.uploadingIDs,b)},_addIDBatch:function(b){this.fileInfoData.batch.push(b)},_removeIDBatch:function(b){this.fileInfoData.batch=this._removeElementFromArray(this.fileInfoData.batch,b)},_submitNextPendingId:function(){var c=this,b;if(c._checkCanUpload()===true){b=c._removePendingId();if(b!==null){c.startUpload(b)}}},_randomString:function(f){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",d="",c,e;for(c=0;c<f;c++){e=Math.floor(Math.random()*b.length);d+=b.substring(e,e+1)}return d},_cutFilePath:function(b,d){var c=b.length;if(c<=d){return b}},_getOnlyFileName:function(c){var b="";if(c===null||c===undefined){return""}if(c.indexOf("/")!==-1){b="/"}else{if(c.indexOf("\\")!==-1){b="\\"}}if(b!==""){c=c.substr(c.lastIndexOf(b)+1)}return c},_getFileExtension:function(b){return b.substring(b.lastIndexOf(".")+1)},_validateFileExtension:function(d){var c="",b=this.options.allowedExtensions;if(b.length===0){return true}c=d.substring(d.lastIndexOf(".")+1);return a.inArray(c,b)>=0},_getFileExtensionIconPath:function(c){var b=this.options.fileExtensionIcons,d,e="",f=b.length;c=String(c).toLowerCase();for(d=0;d<f;d++){if(b[d].ext!==undefined&&(b[d].ext===c||a.inArray(c,b[d].ext)!==-1)){e=b[d].css;break}else{if(e===""&&(b[d].def===true||(a.isArray(b[d].ext)&&b[d].ext.length===0))){e=b[d].css}}}return e},_setError:function(e,c,d,g){var f=this.options,b=this._const.errorCode;if(g===undefined){g=""}if(d==="serverside"){switch(c){case b.MimeTypeValidation:e=f.errorMessageValidatingFileExtension;break;case b.FileSizeExceeded:e=f.errorMessageMaxFileSizeExceeded;break}}this._trigger(this.events.onError,null,{errorCode:c,errorMessage:e,errorType:d,serverMessage:g})},_formatFileSize:function(d){var b=this.options.fileSizeMetric,c=d;switch(b){case"bytes":c=d+"B";break;case"kbytes":c=this._convertToKBytes(d);break;case"mbytes":c=this._convertToMBytes(d);break;case"gbytes":c=this._convertToGBytes(d);break;case"auto":if(d<1024){c=d+"B"}else{if(d<1024*1024){c=this._convertToKBytes(d)}else{if(d<1024*1024*1024){c=this._convertToMBytes(d)}else{c=this._convertToGBytes(d)}}}break;default:break}return c},_convertToKBytes:function(c){var b=c/1024;return b.toFixed(this.options.fileSizeDecimalDisplay)+"KB"},_convertToMBytes:function(c){var b=c/(1024*1024);return b.toFixed(this.options.fileSizeDecimalDisplay)+"MB"},_convertToGBytes:function(c){var b=c/(1024*1024*1024);return b.toFixed(this.options.fileSizeDecimalDisplay)+"GB"},_removeElementArrayById:function(b,c){if(b===undefined||b===null){return[]}return a.grep(b,function(d){return(d.id!==c)})},_removeElementFromArray:function(b,c){if(b===undefined||b===null){return[]}return a.grep(b,function(d){return(d!==c)})}});a.extend(a.ui.igUpload,{version:"12.2.20122.2147"})}(jQuery));
/*
* Infragistics.Web.ClientUI Video Player localization resources 12.2.20122.2147
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
$.ig=$.ig||{};if(!$.ig.VideoPlayer){$.ig.VideoPlayer={};$.extend($.ig.VideoPlayer,{locale:{liveStream:"Live video",live:"Live",paused:"Paused",playing:"Playing",play:"Play",volume:"Volume",unsupportedVideoSource:"The current video sources does not contain a format that is supported by your browser.",missingVideoSource:"No compatible video source.",progressLabelLongFormat:"$currentTime$ / $duration$",progressLabelShortFormat:"$currentTime$",enterFullscreen:"Go Fullscreen",exitFullscreen:"Exit Fullscreen",skipTo:"SKIP TO",unsupportedBrowser:"The current browser does not support HTML5 video. <br/>Try upgrading to any of the following versions:",currentBrowser:"Current browser: {0}",ie9:"Microsoft Internet Explorer V 9+",chrome8:"Google Chrome V 8+",firefox36:"Mozilla Firefox V 3.6+",safari5:"Apple Safari V 5+",opera11:"Opera V 11+",ieDownload:"http://www.microsoft.com/windows/internet-explorer/default.aspx",operaDownload:"http://www.opera.com/download/",chromeDownload:"http://www.google.com/chrome",firefoxDownload:"http://www.mozilla.com/",safariDownload:"http://www.apple.com/safari/download/",buffering:"Buffering...",adMessage:"Ad: Video will resume in $duration$ seconds.",adMessageLong:"Ad: Video will resume in $duration$.",adMessageNoDuration:"Ad: Video will resume after the commercial.",adNewWindowTip:"Ad: Click to open ad content in a new window.",nonDivException:"The Infragistics HTML5 Video Player can be instantiated only on a DIV tag.",relatedVideos:"RELATED VIDEOS",replayButton:"Replay",replayTooltip:"Click to replay last video."}});
/*
 * Infragistics.Web.ClientUI jQuery HTML5 Video Player 12.2.20122.2147
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.2.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	modernizr.js
 *  infragistics.util.js
 *  infragistics.ui.shared.js
 */
}if(typeof jQuery!=="function"){throw new Error("jQuery is undefined")}(function(a){a.widget("ui.igVideoPlayer",{_const:{VOLUME_MAX:1,VOLUME_MIN:0,VIDEO_STATE_TIMEOUT:200,SCROLL_TIMEOUT:100,COMMERCIAL_SEEK_DELTA:2,SLIDE_SEEK_TIMEOUT:500,HREF:"#"},_id:function(b){return this.element[0].id+b},options:{sources:[],width:null,height:null,posterUrl:"",preload:false,autoplay:false,autohide:true,volumeAutohideDelay:1000,centerButtonHideDelay:1200,loop:false,browserControls:false,fullscreen:false,volume:0.5,muted:false,title:"",showSeekTime:true,progressLabelFormat:"${currentTime} / ${duration}",bookmarks:[{time:0,title:"",disabled:false}],relatedVideos:[{imageUrl:"",title:"",width:null,height:null,link:"",sources:[],css:null}],banners:[{imageUrl:"",times:[],closeBanner:true,animate:true,visible:true,duration:1000,autohide:false,hidedelay:10000,link:null,width:null,height:null,css:null}],commercials:{linkedCommercials:[{sources:[],startTime:10,link:"",title:""}],embeddedCommercials:[{startTime:20,endTime:30,link:"",title:""}],alwaysPlayCommercials:false,showBookmarks:true,adMessage:{animate:true,autoHide:true,hideDelay:20000,animationDuration:1000}}},events:{ended:"ended",playing:"playing",paused:"paused",buffering:"buffering",progress:"progress",waiting:"waiting",bookmarkHit:"bookmarkHit",bookmarkClick:"bookmarkClick",enterFullScreen:"enterFullScreen",exitFullScreen:"exitFullScreen",relatedVideoClick:"relatedVideoClick",bannerVisible:"bannerVisible",bannerHidden:"bannerHidden",bannerClick:"bannerClick",browserNotSupported:"browserNotSupported"},css:{baseClasses:"ui-widget ui-igplayer",controlsClass:"ui-widget-header ui-igplayer-controls ui-igplayer-grid ui-igplayer-autohide ui-corner-all",controlsHideClass:"ui-igplayer-controls-hide",videoClass:"ui-igplayer-video",unsupportedBrowserClass:"ui-igvideoplayer-non-html5-supported-message ui-helper-clearfix",activeVideoClass:"ui-igplayer-active-video",playButtonClass:"ui-igplayer-playbutton",progressBarClass:"ui-igplayer-progressbar ui-corner-all",fullScreenClass:"ui-igplayer-fullscreen-button",fullScreenIconClass:"ui-icon ui-igbutton-icon ui-icon-arrow-4-diag",volumeControlClass:"ui-igplayer-volumecontrol",volumeSliderClass:"ui-igplayer-volumeslider",progressLabelClass:"ui-igplayer-progresslabel",bookmarkContainerClass:"ui-widget ui-igplayer-bookmark-container",bookmarkContainerHeaderClass:"ui-widget-header ui-igplayer-bookmark-header",bookmarkListClass:"ui-widget-content ui-igplayer-bookmark-list",bookmarkItemDisabledClass:"ui-igplayer-bookmark-item-disabled",bookmarkItemTimeClass:"ui-igplayer-bookmark-item-time",bookmarkItemTitleClass:"ui-igplayer-bookmark-item-title",bookmarkActiveItemClass:"ui-igplayer-bookmark-active-item",relatedVideosContainerClass:"ui-igplayer-related-video-container",relatedVideosOuterContainerClass:"ui-igplayer-related-video-outer-container",relatedVideoClass:"ui-igplayer-related-video",relatedVideoFirstClass:"ui-igplayer-related-video-first",relatedVideoLastClass:"ui-igplayer-related-video-last",relatedVideoHoverClass:"ui-igplayer-related-video-hover",relatedVideoScrollLeftClass:"ui-igplayer-related-scroller-left",relatedVideoScrollLeftIconClass:"ui-icon-triangle-1-w",relatedVideoScrollRightClass:"ui-igplayer-related-scroller-right",relatedVideoScrollRightIconClass:"ui-icon-triangle-1-e",relatedVideoScrollListClass:"ui-igplayer-related-list",relatedVideosHeaderClass:"ui-igplayer-related-video-header",relatedVideoBarClass:"ui-igplayer-related-video-bar",relatedVideoReplayClass:"ui-igplayer-related-video-replay",relatedVideoReplayIconClass:"ui-icon-arrowrefresh-1-s",bannerContainerClass:"ui-igplayer-banner-container",bannerClass:"ui-igplayer-banner ui-corner-all",bannerCloseClass:"ui-igplayer-banner-close",bannerCloseIconClass:"ui-icon-close",adMsgContainerClass:"ui-igplayer-ad-msg-container",adMsgClass:"ui-igplayer-ad-msg",adMsgCloseClass:"ui-igplayer-ad-msg-close",adMsgCloseIconClass:"ui-icon-close",linkedBookmarkClass:"ui-igplayer-linked-bookmark",adBookmarkClass:"ui-igplayer-ad-bookmark",unsupportedVideoSourceClass:"ui-igplayer-not-supported-video-source",unsupportedVideoSourceIconClass:"ui-igplayer-not-supported-video-source-icon",centerPlayButtonClass:"ui-igplayer-centerplaybutton-play",centerPauseButtonClass:"ui-igplayer-centerplaybutton-pause",centerPlayButtonIconClass:"ui-igplayer-centerplaybutton-icon",waitingIndicatorClass:"ui-igplayer-waiting",waitingIndicatorIconClass:"ui-igplayer-waiting-icon",seekTooltipClass:"ui-igplayer-seektooltip"},widget:function(){return this.element},_createWidget:function(){var b=this.options;b.bookmarks=[];b.relatedVideos=[];b.banners=[];b.commercials.linkedCommercials=[];b.commercials.embeddedCommercials=[];a.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){this.supportsVideo=this.supports_video();if(typeof Modernizr==="object"&&Modernizr.touch){this.options.browserControls=true}if(this.element.is("div")){this.container=this.element}else{if(this.element.is("video")){this.container=a("<div></div>").attr("id",this._id("_container")).insertBefore(this.element);this.element.appendTo(this.container)}else{throw new Error(a.ig.VideoPlayer.locale.nonDivException)}}this._oldWidth=this.element.css("width");this._oldHeight=this.element.css("height");this._renderControl()},_renderControl:function(){var c=this.options,d,b=this.css;this._prevReadyState=0;this._bookmarksRendered=false;if(this.supportsVideo){this._renderBanners()}this.currentVideo=d=this._createMainVideoElement().addClass(b.videoClass);if(c.disabled){this.container.addClass("ui-state-disabled")}if(c.width){d.css("width",c.width);this.container.css("width",c.width)}if(c.height){d.css("height",c.height);this.container.css("height",c.height)}if(this.supportsVideo){this._baseZIndex=parseInt(this.container.css("z-index"),10)||0;this._attachEvents(d);this._renderSources(c.sources,d);this._analyzeSource(d);setTimeout(a.proxy(this._onVideoStateChange,this),this._const.VIDEO_STATE_TIMEOUT);this._createBigPlayButton();this._createWaitingIndicator();this._renderEmbeddedCommercials();this._renderCommercials();d[0].muted=c.muted;if(c.muted&&a.browser.webkit){d[0].volume=0}else{if(c.volume>=this._const.VOLUME_MIN&&c.volume<=this._const.VOLUME_MAX){d[0].volume=c.volume}}if(!c.browserControls){this._renderControls()}this._lastPausedState=d[0].paused;if(c.fullscreen){this._setOption("fullscreen",true,true)}this._renderRelatedVideos()}else{this.currentVideo.hide();this._renderUnsupportedBrowser()}a("#"+this._id("_detectError")).appendTo(this.container).bind({click:function(e){e.preventDefault()}});this.container.addClass(b.baseClasses)},_createVideoElement:function(b){var c=a("<video></video>").attr("id",b);return c},_saveExistingVideoProperties:function(b){this._oldAutoPlay=b.attr("autoplay");this._oldPreload=b.attr("preload");this._oldLoop=b.attr("loop");this._oldPoster=b.attr("poster");this._oldControls=b.attr("controls");this._oldSrc=b.attr("src");this._oldMuted=b[0].muted;this._oldVolume=b[0].volume;b.removeAttr("autoplay");b.removeAttr("preload");b.removeAttr("loop");b.removeAttr("poster");b.removeAttr("controls");b.removeAttr("src")},_restoreExistingVideoProperties:function(b){b.attr("autoplay",this._oldAutoPlay);b.attr("preload",this._oldPreload);b.attr("loop",this._oldLoop);b.attr("poster",this._oldPoster);b.attr("controls",this._oldControls);b.attr("src",this._oldSrc);b[0].muted=this._oldMuted;b[0].volume=this._oldVolume},_createMainVideoElement:function(){var c=this.options,b=this.element.is("video"),d=(b?this.element:this._createVideoElement(this._id("_video")));if(b){this._saveExistingVideoProperties(d)}if(c.autoplay){d.attr("autoplay",true)}d.attr("preload","metadata");if(c.preload){d.attr("preload","auto")}if(c.browserControls){d.attr("controls",true)}if(c.loop){d.attr("loop",true)}if(c.posterUrl.length>0){d.attr("poster",c.posterUrl)}return d.appendTo(this.container)},_renderUnsupportedBrowser:function(){if(this._trigger(this.events.browserNotSupported)){var c=a("<div></div>").addClass(this.css.unsupportedBrowserClass).appendTo(this.container),d,b;if(a.browser.msie){b="Internet Explorer "+a.browser.version}else{if(a.browser.opera){b="Opera "+a.browser.version}else{if(a.browser.webkit){b="Webkit "+a.browser.version}else{if(a.browser.mozilla){b="Mozilla Firefox "+a.browser.version}else{b=a.browser.version}}}}a("<div></div>").addClass("ui-igvideoplayer-current-browser-label").html(a.ig.VideoPlayer.locale.currentBrowser.replace("{0}",b)).appendTo(c);a("<div></div>").addClass("ui-igvideoplayer-non-html5-text").html(a.ig.VideoPlayer.locale.unsupportedBrowser).appendTo(c);d=a("<ul></ul>").addClass("ui-igplayer-browsers-list").appendTo(c);a("<a></a>").attr("href",a.ig.VideoPlayer.locale.chromeDownload).attr("target","_blank").addClass("ui-igplayer-chrome-icon").html(a.ig.VideoPlayer.locale.chrome8).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(d));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.firefoxDownload).attr("target","_blank").addClass("ui-igplayer-firefox-icon").html(a.ig.VideoPlayer.locale.firefox36).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(d));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.operaDownload).attr("target","_blank").addClass("ui-igplayer-Opera-icon").html(a.ig.VideoPlayer.locale.opera11).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(d));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.safariDownload).attr("target","_blank").addClass("ui-igplayer-safari-icon").html(a.ig.VideoPlayer.locale.safari5).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(d));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.ieDownload).attr("target","_blank").addClass("ui-igplayer-ie-icon").html(a.ig.VideoPlayer.locale.ie9).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(d));this.container.addClass("ui-igvideoplayer-non-html5")}},_renderRelatedVideoBar:function(b){var d=this.css,c=this,e=a("<div></div>").attr("id",this._id("_rv_bar")).addClass(d.relatedVideoBarClass).appendTo(b);a("<a></a>").attr("id",this._id("_rv_bar_fs")).appendTo(a("<div></div>").css({position:"absolute",top:0,left:0,"text-align":"right",width:"100%",height:"100%"}).appendTo(e)).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:d.fullScreenIconClass}}).attr("title",a.ig.VideoPlayer.locale.enterFullscreen).addClass(d.fullScreenClass).bind({click:function(f){f.preventDefault();c._setOption("fullscreen",!c.options.fullscreen)}});a("<a></a>").attr("id",this._id("_rv_bar_replay")).appendTo(e).igButton({onlyIcons:false,labelText:a.ig.VideoPlayer.locale.replayButton,icons:{primary:d.relatedVideoReplayIconClass},link:{href:this._const.HREF}}).attr("title",a.ig.VideoPlayer.locale.replayTooltip).bind({click:function(f){f.preventDefault();if(!a(this).igButton("option","disabled")){c.togglePlay()}}}).addClass(d.relatedVideoReplayClass)},_renderScrollButtons:function(b){var c=this.css,d;a("<a></a>").attr("id",this._id("_rv_left")).appendTo(b).igButton({onlyIcons:true,icons:{primary:c.relatedVideoScrollLeftIconClass},link:{href:this._const.HREF}}).addClass(c.relatedVideoScrollLeftClass).css("position","absolute").hide();d=a("<ul></ul>").addClass(c.relatedVideoScrollListClass).appendTo(b);a("<a></a>").attr("id",this._id("_rv_right")).appendTo(b).igButton({onlyIcons:true,icons:{primary:c.relatedVideoScrollRightIconClass},link:{href:this._const.HREF}}).addClass(c.relatedVideoScrollRightClass).css("position","absolute");return d},_renderRelatedVideos:function(){var g=this.options,h=g.relatedVideos||[],f=h.length,e=0,d=this.css,b,j,k,c=this;if(f>0){b=a("<div></div>").attr("id",this._id("_rvcc")).addClass(d.relatedVideosOuterContainerClass).appendTo(this.container).hide();a("<div><div>").html(a.ig.VideoPlayer.locale.relatedVideos).addClass(d.relatedVideosHeaderClass).appendTo(b);j=a("<div></div>").attr("id",this._id("_rvc")).appendTo(b).addClass(d.relatedVideosContainerClass);k=this._renderScrollButtons(j);this._renderRelatedVideoBar(b);this._rvUlWidth=0;this._rvImagesToLoad=0;this._rvImagesLoaded=0;for(e;e<f;e++){if(h[e].imageUrl&&h[e].imageUrl!==""){this._renderRelatedVideo(h[e],k,e===0,e===f-1);this._rvImagesToLoad++}}this.relatedScrollers=a("a",j).bind({mouseover:function(){if(!c._isScrolling){c._isScrolling=true;c._leftDirection=a(this).hasClass(c.css.relatedVideoScrollLeftClass);c._rvDoScroll()}},mouseout:function(){c._rvStopScroll()}});this.relatedVideoElements=a("."+this.css.relatedVideoClass.split(" ")[0],k).each(function(l){a(this).data("related-index",l)}).bind({mouseover:function(){a(this).addClass(c.css.relatedVideoHoverClass).children().filter("div").show()},mouseout:function(){a(this).removeClass(c.css.relatedVideoHoverClass).children().filter("div").hide()},click:function(l){var m=c.options.relatedVideos[a(this).data("related-index")];if(c._relatedVideoClick(m,a(this),l)){if(m.link&&m.link.length>0){window.open(m.link,"_blank")}else{if(m.sources){c._renderSources(m.sources,c.currentVideo);c._analyzeSource(c.currentVideo,true);c.play()}}}}})}},_rvScrollOnce:function(){var b=a("#"+this._id("_rvc")),l=a("ul",b),e=l[0].style.left,d=parseInt((e===""||e==="auto"?"0px":e),10),h=10,g=this._leftDirection?d+h:d-h,f=a("#"+this._id("_rv_left")),j=a("#"+this._id("_rv_right")),m=l.width(),k=b.width(),c=true;l[0].style.left=g+"px";if(d===0&&g<0){f.show()}if(g>=0&&d!==0&&f[0].style.display!=="none"){f.hide();c=false}if(k-g>=m&&j[0].style.display!=="none"){c=false;j.hide()}else{if(j[0].style.display==="none"){j.show()}}return c},_rvDoScroll:function(){var b=this._isScrolling&&this._rvScrollOnce();if(b){this._scrollingTimoutId=setTimeout(a.proxy(this._rvDoScroll,this),this._const.SCROLL_TIMEOUT)}else{this._rvStopScroll()}},_rvStopScroll:function(){if(this._isScrolling){clearTimeout(this._scrollingTimoutId);this._isScrolling=false}},_relatedVideoClick:function(e,d,c){var b={relatedVideo:e,relatedVideoElement:d};return this._trigger(this.events.relatedVideoClick,c,b)},_renderRelatedVideo:function(e,b,c,d){var g=a("<li></li>").appendTo(b).addClass(this.css.relatedVideoClass),f=a("<img/>").appendTo(g),h=this;if(c||d){g.addClass(c?this.css.relatedVideoFirstClass:this.css.relatedVideoLastClass)}if(e.imageUrl&&e.imageUrl!==""){f.attr("src",e.imageUrl)}if(e.title&&e.title!==""){f.attr("title",e.title)}if(e.css&&e.css!==""){f.addClass(e.css)}if(e.width&&e.width!==""){f.css("width",e.width)}if(e.height&&e.height!==""){f.css("height",e.height)}a("<div></div>").appendTo(f.parent()).css("position","absolute").hide();f.bind({load:function(){h._imageLoaded(this)},error:function(){h._rvImagesLoaded++;h._onImagesLoaded()},readystatechange:function(){h._imageLoaded(this)}})},_imageLoaded:function(c){var d=c.readyState,f=parseInt(c.style.width,10),b=parseInt(c.style.height,10),e;if(!d||(new RegExp("loaded|complete")).test(d)){this._rvUlWidth+=(f+parseInt(a(c).parent().css("marginRight"),10)+parseInt(a(c).parent().css("marginLeft"),10));this._rvImagesLoaded++;if(f>24&&b>24){if(f>50&&b>50){e=48}else{if(f>34&&b>34){e=32}else{e=24}}a(c).parent().children().filter("div").addClass("ui-igplayer-related-video-hover-x"+e).css({width:e,height:e,top:(b/2)-(e/2),left:(f/2)-(e/2)})}}this._onImagesLoaded()},_onImagesLoaded:function(){if(this._rvImagesLoaded===this._rvImagesToLoad){var b=a("#"+this._id("_rvc"));a("ul",b).css("width",this._rvUlWidth+4);b.parent().show();if(this._rvUlWidth<b.width()){this.relatedScrollers.hide()}else{a(this.relatedScrollers[1]).show()}b.parent().hide();delete this._rvUlWidth;delete this._rvImagesLoaded;delete this._rvImagesToLoad}},_renderEmbeddedCommercials:function(){var b=this.options.commercials.embeddedCommercials||[],d=0,e=b.length,c=[],f;for(d;d<e;d++){f=b[d];if(f&&f.startTime&&f.endTime&&f.startTime<f.endTime){c.push(f)}}b=c;e=b.length;if(b&&e>0){this._embeddedCommercialsShow=a.extend(true,[],b);this._embeddedCommercialIndex=0;this._renderAdMessage()}},_renderCommercials:function(){var d=this.options,b=d.commercials.linkedCommercials||[],c=this;if(b.length>0){this._createVideoElement(this._id("_com_video")).attr("preload","auto").appendTo(this.container).addClass(this.css.videoClass).bind({ended:function(){var f=a("#"+c._id("_ctrls_s")),e=f.data("igSlider").bookmarks;c._hideWaitingIndicator();c._commercialIndex++;c._commercialsShow.shift();c._commercialPlaying=false;c.currentVideo=c._getMainVideo();c.currentVideo.show();a(this).hide();f.igSlider("option","disabled",false);if(e){e.show()}c.currentVideo[0].muted=this.muted;c.currentVideo[0].play();c.currentVideo.addClass(c.css.videoClass);c.controls[c._activeControlsIndex].css("z-index","");a("#"+c._id("_seek_tooltip")).css("z-index","");a("#"+c._id("_play")).css("z-index","")},waiting:function(e){c._onVideoWaiting(e);c._waiting(this.currentSrc,this.currentTime,this.duration,e)},timeupdate:function(e){c._changeCurrentTime(e)},playing:function(e){c._hideWaitingIndicator();a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-pause").removeClass("ui-icon-play");c._playing(this.currentSrc,this.duration,e)},pause:function(e){a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause");c._paused(this.currentSrc,this.duration,e)},click:function(e){e.preventDefault();var f=c.options.commercials.linkedCommercials[c._commercialIndex].link;if(f&&f.length>0){window.open(f,"_blank")}}}).hide();this._buildCommercialsShow();this._renderAdMessage()}},_renderAdClose:function(b){var c=this;a("<a></a>").attr("id",this._id("_ad_msg_close")).appendTo(b).igButton({onlyIcons:true,icons:{primary:this.css.adMsgCloseIconClass},link:{href:this._const.HREF}}).addClass(this.css.adMsgCloseClass).bind("click",function(d){d.preventDefault();d.stopPropagation();c.hideAdMessage()})},_renderAdMessage:function(){if(a("#"+this._id("_ad_msg_c")).length===0){var c=this.css,b;b=a("<div></div>").attr("id",this._id("_ad_msg_c")).addClass(c.adMsgContainerClass).prependTo(this.container).bind({mouseover:function(){a(this).addClass("ui-state-hover")},mouseout:function(){a(this).removeClass("ui-state-hover")}}).hide();a("<span></span>").attr("id",this._id("_ad_msg")).appendTo(b).addClass(c.adMsgClass).html(a.ig.VideoPlayer.locale.adMessage);this._renderAdClose(b)}},_showAdMessage:function(d){var b=a("#"+this._id("_ad_msg_c")),c=this.options.commercials.adMessage;this._updateAdMessage(d,true);b.css("width",this.container.css("width"));if(c.animate){b.slideToggle(c.animationDuration)}else{b.show()}if(c.autoHide){this._adHideTimeout=setTimeout(a.proxy(this.hideAdMessage,this),c.hideDelay)}},_updateAdMessage:function(d,b){var c=a("#"+this._id("_ad_msg"));if(c.is(":visible")||b){if(isNaN(d)){c.html(a.ig.VideoPlayer.locale.adMessageNoDuration)}else{d=parseInt(d,10);if(d>60){c.html(a.ig.VideoPlayer.locale.adMessageLong.replace("$duration$",this._toTimeString(d)))}else{c.html(a.ig.VideoPlayer.locale.adMessage.replace("$duration$",d))}}}},hideAdMessage:function(){clearTimeout(this._adHideTimeout);var b=a("#"+this._id("_ad_msg_c")),c=this.options.commercials.adMessage;if(b.is(":visible")){if(c.animate){b.slideToggle(c.animationDuration)}else{b.hide()}}},_buildCommercialsShow:function(){var b=this.options.commercials.linkedCommercials||[],d=b.length,c=0;this._commercialsShow=[];this._commercialIndex=0;for(c;c<d;c++){this._commercialsShow.push(b[c].startTime)}this._commercialsShow=a.extend(true,[],this._commercialsShow)},playCommercial:function(d){if(!d||!d.sources){return}var e=a("#"+this._id("_com_video")),g=this.currentVideo.offset(),f=a("#"+this._id("_ctrls_s")),b=f.data("igSlider").bookmarks,c=a("#"+this._id("_ctrls_s_tooltip"));this._commercialPlaying=true;a("source",e).remove();this._renderSources(d.sources,e);this._analyzeSource(e);this.currentVideo[0].pause();this.currentVideo.removeClass(this.css.videoClass);this.controls[this._activeControlsIndex].css("z-index",this._baseZIndex+5000);a("#"+this._id("_seek_tooltip")).css("z-index",this._baseZIndex+5000);a("#"+this._id("_play")).css("z-index",this._baseZIndex+5000);f.igSlider("option","disabled",true);if(b&&c){b.hide();c.hide()}e[0].muted=this.currentVideo[0].muted;e[0].play();if(d.link&&d.link.length>0){e.attr("title",a.ig.VideoPlayer.locale.adNewWindowTip)}else{e.removeAttr("title")}e.css("top",g.top).css("left",g.left).css("width",this.currentVideo.css("width")).css("height",this.currentVideo.css("height")).show();this.currentVideo.hide();this.currentVideo=e},_renderBanners:function(){var c=this.options.banners||[],e=c.length,d=0,f=a("<div></div>").appendTo(this.container).addClass(this.css.bannerContainerClass),b;this._bannerShow=[];for(d;d<e;d++){b=c[d];if(b.imageUrl&&b.imageUrl.length>0){this._renderBannerContainer(b,this._id("_banner_grid"+d),f).data("banner-index",d)}this._bannerShow.push(a.extend(true,[],b.times))}},_buildBannersShow:function(){var b=this.options.banners||[],d=b.length,c=0;if(d>0){this._bannerShow=[]}for(c;c<d;c++){this._bannerShow.push(a.extend(true,[],b[c].times))}},_renderBannerClose:function(b,e){var d=this.css,c=this;a("<a></a>").attr("id",e+"_banner_close").appendTo(a("<div></div>").css({position:"absolute",top:0,left:0,"text-align":"right",width:"100%",height:"100%"}).appendTo(b)).addClass(d.bannerCloseClass).igButton({onlyIcons:true,icons:{primary:d.bannerCloseIconClass},link:{href:this._const.HREF}}).bind("click",function(f){f.preventDefault();f.stopPropagation();c.hideBanner(a(this).parent().parent().data("banner-index"))})},_renderBannerContainer:function(b,f,h){var e=this.css,d=this,c=a("<div></div>").attr("id",f).appendTo(h),g=a("<img></img>").attr("id",f+"_img").attr("src",b.imageUrl).appendTo(c);this.banner=c.addClass(e.bannerClass);if(!b.visible){c.hide()}if(b.closeBanner){this._renderBannerClose(c,f)}if(b.width){c.css("width",b.width);g.attr("width",parseInt(b.width,10))}if(b.height){c.css("height",b.height);g.attr("height",parseInt(b.height,10))}if(b.css){c.addClass(b.css)}c.bind("click",function(k){var l=true,j={bannerElement:a(k.currentTarget)};l=d._trigger(d.events.bannerClick,k,j);if(b.link&&b.link.length>0&&l){window.open(b.link,"_blank")}});return c},showBanner:function(e){if(this.options.banners&&e>=0&&e<this.options.banners.length){var b=this.options.banners[e],d=this._id("_banner_grid"+e),c=a("#"+d);if(b.animate){c.fadeIn(b.duration)}else{c.show()}this._bannerVisible(e,c);if(b.autohide){this._bannerHideTimeout=setTimeout(this._createDelegate(this,this.hideBanner,[e]),b.hidedelay)}}},_createDelegate:function(c,d,b){return function(){return d.apply(c,b)}},hideBanner:function(d){if(this.options.banners&&d>=0&&d<this.options.banners.length){clearTimeout(this._bannerHideTimeout);var b=this.options.banners[d],c=a("#"+this._id("_banner_grid"+d));if(b.animate){c.fadeOut(b.duration)}else{c.hide()}this._bannerHidden(d,c)}},_renderSources:function(c,d){var b=this;a(c).each(function(){b._renderSource(this,d)})},_renderSource:function(b,c){a("<source></source>").attr("src",b).attr("type",("type/"+b.substring(b.lastIndexOf(".")+1,b.length)).replace("/ogv","/ogg")).appendTo(c);c.data(b.substring(b.lastIndexOf(".")+1,b.length),b)},_getMainVideo:function(){return this.element.is("video")?this.element:a("#"+this._id("_video"))},_setOption:function(d,h,b){var j=this.currentVideo,k=j[0],e=this._getMainVideo(),l=j.offset(),g=this.options,f=true,c=0;if(this.options[d]===h){return}switch(d){case"disabled":if(h){this.container.addClass("ui-state-disabled")}else{this.container.removeClass("ui-state-disabled")}break;case"sources":a("source",e).remove();this._renderSources(h,e);this._analyzeSource(e);break;case"width":if(h!==g.width){j.css("width",h);this.container.css("width",h);if(!g.browserControls){a("#"+this._id("_ctrls")).parent().css("width",h);a("#"+this._id("_title_ctrls")).parent().css("width",h)}g.width=h}break;case"height":if(h!==g.height){j.css("height",h);this.container.css("height",h);g.height=h}break;case"posterUrl":if(h!==g.posterUrl){j.attr("poster",h);g.posterUrl=h}break;case"loop":if(h!==g.loop){k.loop=h;g.loop=h}break;case"browserControls":if(typeof Modernizr==="object"&&Modernizr.touch){return}if(h!==g.browserControls){if(!h){k.controls=false;this._ensureVolume();this._renderControls();this._detectBuffered()}else{k.controls=true;this._destroyControls()}g.browserControls=h}break;case"autohide":if(!g.browserControls){if(h){this._onControlMouseOut()}else{this._onControlMouseOver()}}g.autohide=h;break;case"fullscreen":if(h!==g.fullscreen||b){if(h){f=this._enterFullScreen(k.currentSrc);if(f){this.container.data("style.position",this.container.css("position"));this.container.data("document.scrollTop",a(document).scrollTop());this.container.data("document.scrollLeft",a(document).scrollLeft());this.container.data("style.left",this.container.css("left"));this.container.data("style.top",this.container.css("top"));this.container.css("z-index",this._baseZIndex+10000);a(document).scrollTop(0);a(document).scrollLeft(0);this.container.css("position","fixed").css("height","100%").css("width","100%").css("left","0px").css("top","0px");a("#"+this._id("_ctrls")).parent().css("width","100%");if(this._commercialPlaying){j.css("top",0).css("left",0);e.css("height","100%").css("width","100%")}j.css("height","100%").css("width","100%");if(!g.browserControls){a("span",a("#"+this._id("_ctrls_fs_btn"))).removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-closethick")}if(a("#"+this._id("_rv_bar_fs")).is(":visible")){a("span",a("#"+this._id("_rv_bar_fs"))).removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-closethick")}if(g.bookmarks&&g.bookmarks.length>0){a("#"+this._id("_bookmarks")).hide()}}}else{f=this._exitFullScreen(k.currentSrc);if(f){this.container.css("position",this.container.data("style.position")).css("left",this.container.data("style.left")).css("top",this.container.data("style.top"));this.container.css("z-index",this._baseZIndex);a(document).scrollTop(this.container.data("document.scrollTop"));a(document).scrollLeft(this.container.data("document.scrollLeft"));if(g.height){if(g.bookmarks&&g.bookmarks.length>0){c=parseInt(g.height,10)-parseInt(a("#"+this._id("_bookmarks")).css("height"),10);if(this._commercialPlaying){e.css("height",c)}j.css("height",c)}else{if(this._commercialPlaying){e.css("height",g.height)}j.css("height",g.height)}this.container.css("height",g.height)}else{if(this._commercialPlaying){e.css("height","")}j.css("height","");this.container.css("height","")}if(g.width){if(this._commercialPlaying){e.css("width",g.width)}j.css("width",g.width);a("#"+this._id("_ctrls")).parent().css("width",g.width);this.container.css("width",g.width)}else{if(this._commercialPlaying){e.css("width","")}j.css("width","");a("#"+this._id("_ctrls")).parent().css("width","");this.container.css("width","")}if(this._commercialPlaying){j.css("top",l.top).css("left",l.left)}if(!g.browserControls){a("span",a("#"+this._id("_ctrls_fs_btn"))).removeClass("ui-icon-closethick").addClass("ui-icon-arrow-4-diag")}if(a("#"+this._id("_rv_bar_fs")).is(":visible")){a("span",a("#"+this._id("_rv_bar_fs"))).removeClass("ui-icon-closethick").addClass("ui-icon-arrow-4-diag")}if(g.bookmarks&&g.bookmarks.length>0){a("#"+this._id("_bookmarks")).show()}}}if(!f){return}if(a("#"+this._id("_waiting")).is(":visible")){this._showWaitingIndicator()}if(a("#"+this._id("_play")).is(":visible")){this._showCenterPlayButton()}if(a("#"+this._id("_ad_msg_c")).is(":visible")){a("#"+this._id("_ad_msg_c")).css("width",this.container.css("width"))}if(a("#"+this._id("_ctrls_vs")).is(":visible")){this._hideVolumeSlider()}if(a("#"+this._id("_detectError")).is(":visible")){this._showUnsupportedVideoSourceMsg()}a("body").toggleClass("ui-igplayer-full-screen-mode");if(!g.browserControls){a("#"+this._id("_ctrls_fs_btn")).attr("title",h?a.ig.VideoPlayer.locale.exitFullscreen:a.ig.VideoPlayer.locale.enterFullscreen)}if(a("#"+this._id("_rv_bar_fs")).is(":visible")){a("#"+this._id("_rv_bar_fs")).attr("title",h?a.ig.VideoPlayer.locale.exitFullscreen:a.ig.VideoPlayer.locale.enterFullscreen)}g.fullscreen=h}break;case"volume":if(h!==g.volume&&h>=this._const.VOLUME_MIN&&h<=this._const.VOLUME_MAX){g.volume=k.volume=h;if(h>0&&k.muted){g.muted=k.muted=false}else{if(h===0&&!k.muted){g.muted=k.muted=true}}if(!g.browserControls){this._adjustVolumeButton(h);a("#"+this._id("_ctrls_vs")).igSlider("option","value",h*100)}}break;case"muted":if(h!==g.muted){g.muted=k.muted=h;a("#"+this._id("_ctrls_vs")).igSlider("option","value",(h?0:(g.volume!==0?g.volume:0.3)*100));if(g.volume===0){g.volume=0.3}if(!h&&k.volume===0){k.volume=g.volume}if(!g.browserControls){this._adjustVolumeButton(a("#"+this._id("_ctrls_vs")).igSlider("option","value"))}}break;case"title":a("#"+this._id("_title_ctrls_t")).html(h);break;case"progressLabelFormat":g.progressLabelFormat=h;this._updateProgressLabel();break;case"alwaysPlayCommercials":if(h!==g.commercials.alwaysPlayCommercials){g.commercials.alwaysPlayCommercials=h;if(h){this.resetCommercialsShow()}}break;case"bookmarks":this._destroyBookmarks();g.bookmarks=h;this._renderBookmarks();break;case"relatedVideos":this._destroyRelatedVideos();g.relatedVideos=h;this._renderRelatedVideos();break;default:break}a.Widget.prototype._setOption.apply(this,arguments)},_onVideoStateChange:function(){var e=this.currentVideo,f=e[0],b=this.options,c=this._prevReadyState,d=f.readyState;if(c>=f.HAVE_FUTURE_DATA&&d<=f.HAVE_CURRENT_DATA){if(!f.ended){this._showWaitingIndicator()}}else{if(c<=f.HAVE_CURRENT_DATA&&d===f.HAVE_FUTURE_DATA){this._hideWaitingIndicator()}else{if(d===f.HAVE_ENOUGH_DATA){if(c<=f.HAVE_CURRENT_DATA){this._hideWaitingIndicator()}else{return}}}}this._prevReadyState=d;this._detectBuffered();if(this._lastPausedState!==f.paused){if(this._lastPausedState){this._showCenterPlayButton().removeClass(this.css.centerPauseButtonClass).addClass(this.css.centerPlayButtonClass)}else{this._showCenterPlayButton().removeClass(this.css.centerPlayButtonClass).addClass(this.css.centerPauseButtonClass)}setTimeout(a.proxy(this._hideCenterPlayButton,this),b.centerButtonHideDelay);this._prepareForPlay();this._lastPausedState=f.paused}this._setOption("muted",f.muted);this._refreshDuration();this._onVideoStateChangeId=setTimeout(a.proxy(this._onVideoStateChange,this),this._const.VIDEO_STATE_TIMEOUT)},_updateTitleControlsTimeString:function(b,c){if(this._activeControlsIndex===1&&b){if(!c){c=b}a("span.ui-igplayer-playbutton-text",a("#"+this._id("_title_ctrls"))).attr("title",c).html(b)}},_analyzeSource:function(d,c){var b=false;if(this.supports_h264_baseline_video()&&d.data("mp4")!==undefined){d.attr("src",d.data("mp4"));b=true}else{if(this.supports_ogg_theora_video()){if(d.data("ogv")!==undefined){d.attr("src",d.data("ogv"));b=true}else{if(d.data("ogg")!==undefined){d.attr("src",d.data("ogg"));b=true}}}else{if(this.supports_webm_video()&&d.data("wbem")!==undefined){d.attr("src",d.data("wbem"));b=true}}}d.data("sourceDetected",b);if(!b&&!c){this._showUnsupportedVideoSourceMsg();if(!this.options.browserControls){if(this._activeControlsIndex===0){a("#"+this._id("_ctrls_play")).igButton("option","disabled",true)}}}else{this._hideUnsupportedVideoSourceMsg();if(!this.options.browserControls){if(this._activeControlsIndex===0){a("#"+this._id("_ctrls_play")).igButton("option","disabled",false)}}}},resetCommercialsShow:function(){this._buildCommercialsShow();this._embeddedCommercialsShow=a.extend(true,[],this.options.commercials.embeddedCommercials);this._embeddedCommercialIndex=0},_attachVideoEvents:function(c){var b=this;this._videoEvents={error:function(d){b._onVideoError(d)},progress:function(d){b._onVideoLoading(d)},waiting:function(d){b._onVideoWaiting(d);b._waiting(this.currentSrc,this.currentTime,this.duration,d)},seeking:function(d){b._showWaitingIndicator()},seeked:function(d){b._hideWaitingIndicator()},timeupdate:function(d){b._changeCurrentTime(d)},ended:function(d){b._showCenterPlayButton().removeClass("ui-igplayer-centerplaybutton-pause").addClass("ui-igplayer-centerplaybutton-play");b._hideWaitingIndicator();if(!b.options.browserControls){a("span",a("#"+b._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause")}a("#"+b._id("_ctrls_pb")).igProgressBar("option","value",0);if(b.options.relatedVideos.length>0){b._onControlMouseOut(null);a("#"+b._id("_rvcc")).show()}b._buildBannersShow();if(b.options.commercials.alwaysPlayCommercials){b.resetCommercialsShow()}b._ended(this.currentSrc,this.duration,d)},playing:function(d){b._hideWaitingIndicator();a("span",a("#"+b._id("_ctrls_play"))).addClass("ui-icon-pause").removeClass("ui-icon-play");b._playing(this.currentSrc,this.duration,d)},pause:function(d){a("span",a("#"+b._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause");b._paused(this.currentSrc,this.duration,d)},click:function(d){var e=b.options;if(!e.browserControls){d.preventDefault()}if(d.button===0&&!e.disabled){b._onVideoClick(!e.browserControls)}},dblclick:function(d){d.preventDefault();if(d.button===0&&!b.options.disabled){b._onVideoDblClick()}},selectstart:function(){return false}};c.bind(this._videoEvents)},_onVideoClick:function(b){if(this._embeddedCommercialPlaying){var c=this.options.commercials.embeddedCommercials[this._embeddedCommercialIndex].link;if(c&&c.length>0){window.open(c,"_blank")}}else{if(b){this.togglePlay()}}},_onVideoDblClick:function(){var b=this.options;this._setOption("fullscreen",!b.fullscreen);if(!b.browserControls){this._toggleCenterPlayButton()}},_attachEvents:function(c){var b=this;this._attachVideoEvents(c);this._generalEvts={keydown:function(d){if(d.keyCode===a.ui.keyCode.ESCAPE){if(b.options.fullscreen){b._setOption("fullscreen",false);d.preventDefault();d.stopPropagation()}}else{if(d.keyCode===a.ui.keyCode.SPACE){d.preventDefault();d.stopPropagation();b.togglePlay()}}}};this._documentEvts={contextmenu:function(d){if(a(d.target).is("video")&&b.options.disabled){d.preventDefault();d.stopPropagation()}}};a(document).bind(this._documentEvts);if(!this.options.browserControls){this._controlsEvts={mouseover:function(d){b._onControlMouseOver(d)},mouseout:function(d){b._onControlMouseOut(d)}};this.container.bind(this._controlsEvts)}this.container.bind(this._generalEvts)},_handleKbNavigation:function(b){if(b.keyCode===a.ui.keyCode.HOME){a(this.controlButtons[0]).focus();b.stopPropagation();b.preventDefault()}else{if(b.keyCode===a.ui.keyCode.END){a(this.controlButtons[this.controlButtons.length-1]).focus();b.stopPropagation();b.preventDefault()}}},_handleBlurKb:function(){this.currentVideo.removeClass(this.css.activeVideoClass)},_handleFocusKb:function(){this.currentVideo.addClass(this.css.activeVideoClass)},_onVideoLoading:function(b){this._detectBuffered(b)},_detectBuffered:function(e){var j=this.currentVideo[0],b=j.buffered,d=parseInt(j.duration,10),h=b?b.length:0,f=h>0?parseInt(b.start(h-1),10):0,g=h>0?parseInt(b.end(h-1),10):0,c=(g/d)*100;if(h>0&&this._previouslyBuffered!==c){if(this._previousBuffer&&g<parseInt(this._previousBuffer.end(0),10)){a("#"+this._id("_ctrls_pb")).igProgressBar("option","value",f)}a("#"+this._id("_ctrls_pb")).igProgressBar("option","endValue",(g/d)*100);this._buffering(j.currentSrc,c,e);this._previouslyBuffered=c;this._previousBuffer=b}},_getActiveControls:function(){var b=this._activeControlsIndex;if(b!==undefined&&this.controls&&b>=0&&b<this.controls.length){return this.controls[b].parent()}return null},_onControlMouseOver:function(){var b=this._getActiveControls(),c=this.options;if(b&&!c.browserControls&&c.autohide&&!a("#"+this._id("_rvcc")).is(":visible")){b.show().removeClass(this.css.controlsHideClass)}},_onControlMouseOut:function(){var c=this.options,b=this._getActiveControls();if(b&&!c.browserControls&&c.autohide){b.addClass(this.css.controlsHideClass).hide()}},_onVideoError:function(b){var c=b.target.error;switch(c.code){case c.MEDIA_ERR_ABORTED:break;case c.MEDIA_ERR_NETWORK:this.play();break;case c.MEDIA_ERR_DECODE:case c.MEDIA_ERR_SRC_NOT_SUPPORTED:this._showUnsupportedVideoSourceMsg();break;default:break}},_changeCurrentTime:function(c){var e=this.currentVideo[0],d=e.duration,b;if(d===Infinity){this._updateProgressLabel()}else{if(!isNaN(d)){b=parseInt(e.currentTime,10);if(!this._userSliding){a("#"+this._id("_ctrls_s")).igSlider("option","value",(b/d)*100)}this._updateProgressLabel();if(this._embeddedCommercialPlaying){this._updateAdMessage(this.options.commercials.embeddedCommercials[this._embeddedCommercialIndex].endTime-b);this._checkEmbeddedCommercialShow(b)}else{if(!this._commercialPlaying){this._checkBannerShow(b);this._checkCommercialsShow(b);this._checkEmbeddedCommercialShow(b)}else{this._updateAdMessage(d-b)}}}}this._progress(e.currentSrc,b,d,c)},_checkBannerShow:function(b){var e=this._bannerShow||[],d=e.length,c=0;for(c;c<d;c++){if(e[c].length>0&&b>=e[c][0]){e[c].shift();this.showBanner(c)}}},_checkCommercialsShow:function(b){if(this._commercialsShow&&this._commercialsShow.length>0&&b>=this._commercialsShow[0]&&!this._commercialPlaying){this._commercialPlaying=true;if(b-this._commercialsShow[0]>this._const.COMMERCIAL_SEEK_DELTA){this.currentTime(this._commercialsShow[0])}this.playCommercial(this.options.commercials.linkedCommercials[this._commercialIndex])}},_checkEmbeddedCommercialShow:function(c){if(this._embeddedCommercialsShow&&this._embeddedCommercialsShow.length>0&&!this.currentVideo[0].seeking){var b=this._embeddedCommercialsShow[0];if(c>=b.startTime&&!this._embeddedCommercialPlaying){this._embeddedCommercialPlaying=true;if(c-b.startTime>this._const.COMMERCIAL_SEEK_DELTA){this.currentTime(b.startTime)}a("#"+this._id("_ctrls_s")).igSlider("option","disabled",true);this._showAdMessage(b.endTime-b.startTime);if(b.link&&b.link.length>0){this.currentVideo.attr("title",a.ig.VideoPlayer.locale.adNewWindowTip)}}else{if(c>=b.endTime&&this._embeddedCommercialPlaying){this._embeddedCommercialsShow.shift();this._embeddedCommercialIndex++;this._embeddedCommercialPlaying=false;this.hideAdMessage();a("#"+this._id("_ctrls_s")).igSlider("option","disabled",false);if(b.link&&b.link.length>0){this.currentVideo.removeAttr("title")}}}}},_updateProgressLabel:function(){var g=this.currentVideo[0],d=a("#"+this._id("_ctrls_pl")),f=g.duration,c=parseInt(f,10),b=parseInt(g.currentTime,10),e=this.options.progressLabelFormat;e=e.replace("${currentTime}",this._toTimeString(b)).replace("${duration}",(f===Infinity?a.ig.VideoPlayer.locale.liveStream:this._toTimeString(c)));d.html(e)},_toTimeString:function(g){if(typeof g==="number"){var e=parseInt(g%60,10),d=parseInt(g/60,10),c=parseInt(d/60,10),b=parseInt(c/24,10),f="{0}d {1}:{2}:{3}";d=parseInt(d%60,10);c=parseInt(c%60,10);f=f.replace("{3}",(e<10?"0"+e:e)).replace("{2}",d);if(c>0){f=f.replace("{1}",c);if(b>0){f=f.replace("{0}",b)}else{f=f.replace("{0}d ","")}}else{f=f.replace("{0}d {1}:","")}return f}return"NaN"},_onVideoWaiting:function(){this._showWaitingIndicator()},_createUnsupportedVideoSourceMsg:function(){var b=this.css;return this._createButton(this._id("_detectError"),b.unsupportedVideoSourceClass,b.unsupportedVideoSourceIconClass,a.ig.VideoPlayer.locale.missingVideoSource).attr("title",a.ig.VideoPlayer.locale.unsupportedVideoSource)},_showUnsupportedVideoSourceMsg:function(){var b=a("#"+this._id("_detectError"));if(b.length===0){b=this._createUnsupportedVideoSourceMsg()}return b.show()},_hideUnsupportedVideoSourceMsg:function(){a("#"+this._id("_detectError")).hide()},_createBigPlayButton:function(){var b=this,c=this.css;this._createButton(this._id("_play"),c.centerPlayButtonClass,c.centerPlayButtonIconClass,"").bind({click:function(d){d.preventDefault();if(d.button===0){b._onVideoClick(true)}},dblclick:function(d){d.preventDefault();if(d.button===0){b._onVideoDblClick()}}})},_createButton:function(c,b,d,e){a("<span></span>").html(e).addClass(d).appendTo(a("<a></a>").attr("id",c).attr("href",this._const.HREF).attr("tabIndex",-1).addClass("ui-state-default").addClass(b).appendTo(this.container));return a("#"+c).bind({mouseover:function(){a(this).addClass("ui-state-hover")},mouseout:function(){a(this).removeClass("ui-state-hover")}}).hide()},_showCenterPlayButton:function(){var e=this.currentVideo,b=a("#"+this._id("_play")),g=Math.floor(e.height()/2),f=Math.floor(e.width()/2),d=g-Math.floor(b.innerHeight()/2),c=f-Math.floor(b.innerWidth()/2);b.css("position","absolute").css("left",c).css("top",d);return b.show()},_toggleCenterPlayButton:function(){var d=this.currentVideo[0],c=this.options,b=this.css;if(d.paused||d.ended){this._showCenterPlayButton().removeClass(b.centerPauseButtonClass).addClass(b.centerPlayButtonClass)}else{this._showCenterPlayButton().removeClass(b.centerPlayButtonClass).addClass(b.centerPauseButtonClass)}setTimeout(a.proxy(this._hideCenterPlayButton,this),c.centerButtonHideDelay)},_hideCenterPlayButton:function(){return a("#"+this._id("_play")).hide()},_createWaitingIndicator:function(){var b=this.css;this._createButton(this._id("_waiting"),b.waitingIndicatorClass,b.waitingIndicatorIconClass,a.ig.VideoPlayer.locale.buffering)},_createSeekTimeToolTip:function(){a("<div></div>").attr("id",this._id("_seek_tooltip")).hide().igTooltip({text:"00:00",arrowLocation:"bottom"}).appendTo(this.container).addClass(this.css.seekTooltipClass)},_showSeekTimeToolTip:function(d,e,b){var c=a("#"+this._id("_seek_tooltip"));c.css("top",(e-c.outerHeight())).css("left",(d-(c.width()/2))).igTooltip("option","text",this._toTimeString(b)).show()},_showWaitingIndicator:function(){if(a("#"+this._id("_detectError")).is(":visible")){return}var e=this.currentVideo,b=a("#"+this._id("_waiting")),g=Math.floor(e.height()/2),f=Math.floor(e.width()/2),d=g-Math.floor(b.innerHeight()/2),c=f-Math.floor(b.innerWidth()/2);b.css("position","absolute").css("left",c).css("top",d).show()},_hideWaitingIndicator:function(){a("#"+this._id("_waiting")).hide()},_renderTitleControls:function(){var e=this.options.title,b=this,c,d='<div id="'+this._id("_title_ctrls")+'" class="ui-widget-header ui-igplayer-controls ui-igplayer-grid ui-igplayer-title-controls ui-corner-all">';d+='<div class="ui-igplayer-row">';d+='<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-playback-alone">';d+='		<a id="'+this._id("_title_ctrls_play")+'" class="ui-button ui-igplayer-playbutton ui-igplayer-playback-with-time ui-state-default ui-corner-all ui-priority-primary" href="'+this._const.HREF+'">';d+='			<span title="'+a.ig.VideoPlayer.locale.play+'" class="ui-icon ui-icon-play ui-igplayer-playbutton-icon"></span>';d+='			<span title="00:00" class="ui-button-text ui-igplayer-playbutton-text">00:00</span>';d+="		</a>";d+="</div>";d+='<div id="'+this._id("_title_ctrls_t")+'" class="ui-igplayer-container ui-igplayer-cell ui-igplayer-video-title">';if(e&&e.length>0){d+=e}d+="</div></div></div>";c=a(d).appendTo(this.container).wrap('<div style="position:absolute; width: 100%;"></div>');if(this.options.width){c.parent().css("width",this.options.width)}a("#"+this._id("_title_ctrls_play")).bind({click:function(f){f.preventDefault();if(f.button===0&&!b.options.disabled){b.togglePlay()}}});return c},_hideTitleControls:function(){if(this._activeControlsIndex!==0){this._activeControlsIndex=0;a("#"+this._id("_title_ctrls")).addClass(this.css.controlsHideClass).parent().remove();a("#"+this._id("_ctrls")).parent().show()}},_convertBookmarks:function(k,b,d,c){var f=b.length,h=[],e=0,g,j,l;for(e;e<f;e++){g=b[e];if(g[k]>0&&g[k]<d){l=parseInt((g[k]/d)*100,10);j={value:l,secondsValue:g[k],displayTime:this._toTimeString(g[k]),index:e,title:g.title,disabled:g.disabled};if(c&&c.length>0){j.css=c}h.push(j)}}return h},_renderBookmarks:function(){var k=this.options,c=k.bookmarks||[],d=k.commercials,b=d.linkedCommercials||[],f=d.embeddedCommercials||[],e=this.currentVideo[0].duration,h=[],g=[],j=[];if(d.showBookmarks){if(b.length>0){g=this._convertBookmarks("startTime",b,e,this.css.linkedBookmarkClass)}if(f.length>0){j=this._convertBookmarks("startTime",f,e,this.css.adBookmarkClass)}}if(c.length>0){h=this._convertBookmarks("time",c,e);if(h.length>0){this._renderBookmarkArea(h)}}if(g.length>0){a.merge(h,g)}if(j.length>0){a.merge(h,j)}if(h.length>0){a("#"+this._id("_ctrls_s")).igSlider("option","bookmarks",h)}this._bookmarksRendered=true},_renderBookmarkArea:function(e){if(e&&e.length>0){var h=this.css,f='<li class="ui-corner-all $class$"><span class="'+h.bookmarkItemTimeClass+'">$time$</span><span class="'+h.bookmarkItemTitleClass+'" title="$titleAttr$">$title$</span></li>',c='<div id="$id$" class="$bookmarkContainerClass$"><div class="$headerClass$">$headerText$</div><ul class="$bookmarkListClass$">$list$</ul></div>',d="",b,l,j=0,k=e.length,g=this;for(j;j<k;j++){l=e[j];d+=f.replace("$time$",l.displayTime).replace("$titleAttr$",l.title).replace("$title$",l.title).replace("$class$",l.disabled?h.bookmarkItemDisabledClass:"")}c=c.replace("$id$",this._id("_bookmarks")).replace("$bookmarkContainerClass$",h.bookmarkContainerClass).replace("$headerClass$",h.bookmarkContainerHeaderClass).replace("$bookmarkListClass$",h.bookmarkListClass).replace("$headerText$",a.ig.VideoPlayer.locale.skipTo).replace("$list$",d);b=a(c).appendTo(this.container);this.bookmarkElements=a("li",a("#"+this._id("_bookmarks")));this.bookmarkElements.each(function(m){a(this).data("bookmark-index",e[m].index);a(this).data("bookmark-sec-value",e[m].secondsValue)});this.bookmarkElements.bind({click:function(m){var n=a(this).data("bookmark-index"),o=g.options.bookmarks[n];m.stopPropagation();m.preventDefault();if(!o.disabled){if(g.paused()){g.togglePlay()}g.currentTime(a(this).data("bookmark-sec-value"));g._changeActiveBookmark(n);g._bookmarkClick(o,e[n],m)}}});if(this.options.height){this.currentVideo.css("height",this.container.height()-b.height());this._resizeBookmarkAreaTimeoutId=setTimeout(a.proxy(this._onPlayerResize,this),500)}}},_onPlayerResize:function(){var e=this.options,c=this.container.height(),d=this.container.width(),b=a("#"+this._id("_bookmarks"));if((e.height||e.width)&&(this._oldContainerHeight!==c||this._oldContainerWidth!==d)){this.currentVideo.css("height",c-b.height());this._oldContainerHeight=c;this._oldContainerWidth=d}this._resizeBookmarkAreaTimeoutId=setTimeout(a.proxy(this._onPlayerResize,this),250)},_ensureVolume:function(){this.options.volume=this.currentVideo[0].volume},_renderControls:function(){a("body").addClass("ui-igplayer-normal-screen-mode");if(this.options.showSeekTime){this._createSeekTimeToolTip()}var j=this.currentVideo[0],d=this,f,e=[],b=this.options.autoplay,g=this._const.HREF,h='<div id="'+this._id("_ctrls")+'" class="$controlsClass$">',c;h+='			<div class="ui-igplayer-row">';h+='				<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-playback">';h+='					<a id="$playButtonId$" class="$playButtonClass$" href="'+g+'"></a>';h+="				</div>";h+='				<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-progress-bar">';h+='					<div id="$progressBarId$" class="$progressBarClass$"></div>';h+="				</div>";h+='				<div class="ui-igplayer-container ui-igplayer-extra">';h+='					<div class="ui-igplayer-grid">';h+='						<div class="ui-igplayer-row">';h+='							<div class="ui-igplayer-cell">';h+='								<a id="$progressLabelId$" class="$progressLabelClass$" href="'+g+'"></a>';h+="							</div>";h+='							<div class="ui-igplayer-cell">';h+="                               <div>";h+='								    <div id="$volumeSliderId$" class="$volumeSliderClass$"></div>';h+="									<div>";h+='										<a id="$volumeControlId$" class="$volumeControlClass$" href="'+g+'"></a>';h+="									</div>";h+="                               </div>";h+="							</div>";h+='							<div class="ui-igplayer-cell">';h+='								<a id="$fullScreenId$" class="$fullScreenClass$" href="'+g+'"></a>';h+="							</div>";h+="						</div>";h+="					</div>";h+="				</div>";h+="			</div>";h+="		</div>";h=h.replace("$playButtonClass$",this.css.playButtonClass).replace("$progressBarClass$",this.css.progressBarClass).replace("$fullScreenClass$",this.css.fullScreenClass).replace("$controlsClass$",this.css.controlsClass).replace("$volumeControlClass$",this.css.volumeControlClass).replace("$volumeSliderClass$",this.css.volumeSliderClass).replace("$progressLabelClass$",this.css.progressLabelClass);h=h.replace("$playButtonId$",this._id("_ctrls_play")).replace("$progressBarId$",this._id("_ctrls_s")).replace("$fullScreenId$",this._id("_ctrls_fs_btn")).replace("$volumeControlId$",this._id("_ctrls_vc_btn")).replace("$volumeSliderId$",this._id("_ctrls_vs")).replace("$progressLabelId$",this._id("_ctrls_pl"));f=a(h).appendTo(this.container).wrap('<div style="position:absolute; width: 100%;"></div>');if(this.options.width){f.parent().css("width",this.options.width)}e.push(f);if(!b&&j.currentTime===0){f.parent().hide();this._activeControlsIndex=1;e.push(this._renderTitleControls())}else{this._activeControlsIndex=0}this.controls=a(e);a("#"+this._id("_ctrls_play")).bind({click:function(k){k.preventDefault();if(!a(this).igButton("option","disabled")){d.togglePlay()}}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:"ui-icon "+(b?"ui-icon-pause ":"ui-icon-play ")+"ui-igplayer-playbutton-icon "}}).addClass("ui-priority-primary").attr("title",(b?a.ig.VideoPlayer.locale.playing:a.ig.VideoPlayer.locale.paused));a("#"+this._id("_ctrls_fs_btn")).bind({click:function(k){k.preventDefault();d._setOption("fullscreen",!d.options.fullscreen)}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:this.css.fullScreenIconClass}}).attr("title",a.ig.VideoPlayer.locale.enterFullscreen);a('<div id="'+this._id("_ctrls_pb")+'"></div>').appendTo(a("#"+this._id("_ctrls_s")).igSlider({slide:function(k,l){if(k.originalEvent===undefined){return false}clearTimeout(d._slideTimeout);d._slideTimeout=setTimeout(d._createDelegate(d,d._slide,[l]),d._const.SLIDE_SEEK_TIMEOUT)},start:function(){d._userSliding=true},stop:function(){d._userSliding=false},bookmarkhit:function(l,n){var m=n.bookmark.index,k=d.bookmarkElements;if(k&&k.length>0){d._changeActiveBookmark(m);d._bookmarkHit(d.currentVideo[0].currentSrc,d.options.bookmarks[m],k[m],l)}},bookmarkclick:function(k,m){var l;if(a(m.bookmarkElement).hasClass("ui-igplayer-linked-bookmark")){l=d.options.commercials.linkedCommercials[m.bookmark.index]}else{if(a(m.bookmarkElement).hasClass("ui-igplayer-ad-bookmark")){l=d.options.commercials.embeddedCommercials[m.bookmark.index]}else{l=d.options.bookmarks[m.bookmark.index];d._changeActiveBookmark(m.bookmark.index)}}if(l.time){c=l.time}else{c=l.startTime}d.currentTime(c);d._bookmarkClick(l,m.bookmarkElement,k);return false},min:0,max:100,animate:true}).css("display","block")).igProgressBar({range:true,endValue:0});a("#"+this._id("_ctrls_pb")).bind({mousemove:function(m){if(d.options.showSeekTime&&this.offsetWidth>0){var o=m.pageX-this.offsetLeft-a(this).offset().left,n=parseInt((o/this.offsetWidth)*100,10),l=j.duration,p,k=d.container.offset();if(!isNaN(l)&&l!==Infinity&&!d._commercialPlaying){p=parseInt((n*l)/100,10);d._showSeekTimeToolTip(m.pageX-k.left,m.pageY-k.top,p)}}},mouseout:function(){a("#"+d._id("_seek_tooltip")).hide()}});a("#"+this._id("_ctrls_pl")).bind({click:function(k){k.preventDefault()}});a("#"+this._id("_ctrls_vc_btn")).bind({mouseover:function(){d._showVolumeSlider()},mouseout:function(k){if(!jQuery.contains(k.currentTarget,k.relatedTarget)&&k.currentTarget!==k.relatedTarget){d._volumeSliderTimeoutId=setTimeout(a.proxy(d._hideVolumeSlider,d),d.options.volumeAutohideDelay)}},click:function(k){k.preventDefault();d._setOption("muted",!d.options.muted)}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:"ui-icon "+(this.options.muted?"ui-icon-volume-off ":"ui-icon-volume-on ")+"ui-igbutton-icon"}}).attr("title",a.ig.VideoPlayer.locale.volume);a("#"+this._id("_ctrls_vs")).hide().bind({mouseover:function(){d._volumeSliderMouseOut=false;clearTimeout(d._volumeSliderTimeoutId)},mouseout:function(){if(!d._userSlidingVolume){d._volumeSliderTimeoutId=setTimeout(a.proxy(d._hideVolumeSlider,d),d.options.volumeAutohideDelay)}d._volumeSliderMouseOut=true}}).igSlider({slide:function(k,l){if(k.originalEvent===undefined){return}d._setOption("volume",parseFloat(parseInt(l.value,10)/100))},start:function(){d._userSlidingVolume=true},stop:function(){d._userSlidingVolume=false},min:0,max:100,step:10,orientation:"vertical",value:(this.options.muted?0:this.options.volume*100)});a("#"+this._id("_ctrls_vs")).data("igSlider").handle.attr("tabIndex",-1).bind({blur:function(){d._volumeSliderTimeoutId=setTimeout(a.proxy(d._hideVolumeSlider,d),d.options.volumeAutohideDelay)}});this.controlButtons=a([document.getElementById(this._id("_ctrls_play")),a("a.ui-state-default",a("#"+this._id("_ctrls_s")))[0],document.getElementById(this._id("_ctrls_vc_btn")),document.getElementById(this._id("_ctrls_fs_btn"))]);this.controlButtons.each(function(k){a(this).data("index.control-button",k)});this.controlButtons.bind({keydown:function(k){d._handleKbNavigation(k)},focus:function(k){d._handleFocusKb(k)},blur:function(k){d._handleBlurKb(k)}});a("#"+this._id("_ctrls_vc_btn")).bind({focus:function(){d._showVolumeSlider()},blur:function(){if(!d._transferFocusFromVolumeButtonToVolumeSlider){d._hideVolumeSlider()}d._transferFocusFromVolumeButtonToVolumeSlider=false},keydown:function(k){if(k.keyCode===a.ui.keyCode.TAB){k.preventDefault();k.stopPropagation();d._transferFocusFromVolumeButtonToVolumeSlider=true;a("#"+d._id("_ctrls_vs")).data("igSlider").handle.focus()}}});a("#"+d._id("_ctrls_vs")).data("igSlider").handle.bind({keydown:function(k){if(k.keyCode===a.ui.keyCode.TAB){k.preventDefault();k.stopPropagation();a("#"+d._id("_ctrls_fs_btn")).focus()}}})},_slide:function(d){var e=d.value,c=this.currentVideo[0].duration,b=c*(e/100);if(!isNaN(c)&&c!==Infinity){this.currentTime(b)}this._userSliding=false},_changeActiveBookmark:function(d){var b=this._activeBookmarkIndex,c=this.bookmarkElements;if(c&&c.length>0&&d!==b){if(b>=0&&b<c.length){a(c[b]).removeClass(this.css.bookmarkActiveItemClass)}if(d>=0&&d<c.length){a(c[d]).addClass(this.css.bookmarkActiveItemClass);this._activeBookmarkIndex=d}}},_adjustVolumeButton:function(b){var c=a("#"+this._id("_ctrls_vc_btn"));if(b===0){a("span",c).removeClass("ui-icon-volume-on").addClass("ui-icon-volume-off")}else{a("span",c).removeClass("ui-icon-volume-off").addClass("ui-icon-volume-on")}},_hideVolumeSlider:function(){var b=a("#"+this._id("_ctrls_vs"));b.data("igSlider").handle.attr("tabIndex",-1);b.hide()},_showVolumeSlider:function(){clearTimeout(this._volumeSliderTimeoutId);var b=a("#"+this._id("_ctrls_vs"));b.data("igSlider").handle.removeAttr("tabIndex");b.show()},_ended:function(e,c,d){var b={source:e,duration:c};return this._trigger(this.events.ended,d,b)},_playing:function(e,c,d){var b={source:e,duration:c,currentTime:this.currentVideo[0].currentTime};return this._trigger(this.events.playing,d,b)},_paused:function(e,c,d){var b={source:e,duration:c,currentTime:this.currentVideo[0].currentTime};return this._trigger(this.events.paused,d,b)},_buffering:function(e,c,d){var b={source:e,buffered:c};return this._trigger(this.events.buffering,d,b)},_progress:function(f,c,d,e){var b={source:f,currentTime:c,duration:d};return this._trigger(this.events.progress,e,b)},_waiting:function(f,c,d,e){var b={source:f,currentTime:c,duration:d};return this._trigger(this.events.waiting,e,b)},_bookmarkHit:function(f,c,d,e){var b={source:f,bookmark:c,bookmarkElement:d};return this._trigger(this.events.bookmarkHit,e,b)},_bookmarkClick:function(c,d,e){var b={bookmark:c,bookmarkElement:d};return this._trigger(this.events.bookmarkClick,e,b)},_enterFullScreen:function(c){var b={source:c};return this._trigger(this.events.enterFullScreen,null,b)},_exitFullScreen:function(c){var b={source:c};return this._trigger(this.events.exitFullScreen,null,b)},_bannerVisible:function(d,c){var b={index:d,banner:this.options.banners[d],bannerElement:c};return this._trigger(this.events.bannerVisible,null,b)},_bannerHidden:function(d,c){var b={index:d,banner:this.options.banners[d],bannerElement:c};return this._trigger(this.events.bannerHidden,null,b)},_prepareForPlay:function(){var b=this.options,c=this.currentVideo;if(a("source",c).length===0){this._renderSources(b.sources,c)}if(!c.data("sourceDetected")){this._analyzeSource(c)}this._hideTitleControls();if(b.relatedVideos&&b.relatedVideos.length>0){a("#"+this._id("_rvcc")).hide()}},togglePlay:function(){var b=this.currentVideo[0];this._prepareForPlay();this._toggleCenterPlayButton();if(b.paused||b.ended){if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.playing)}b.play()}else{if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.paused)}b.pause()}},play:function(){var b=this.currentVideo[0];if(b.paused||b.ended){this._prepareForPlay();this._toggleCenterPlayButton();if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.playing)}b.play()}},pause:function(){var b=this.currentVideo[0];if(!b.paused){this._toggleCenterPlayButton();if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.paused)}b.pause()}},currentTime:function(d){var e=this.currentVideo[0],c=e.duration;if(d!==null&&d!==undefined){try{e.currentTime=d;a("#"+this._id("_ctrls_pb")).igProgressBar("option","value",(d/c).toFixed(2)*100);this._checkCommercialsShow(d);this._checkEmbeddedCommercialShow(d)}catch(b){}if(e.paused&&!isNaN(c)){a("#"+this._id("_ctrls_s")).igSlider("option","value",(d/c).toFixed(2)*100)}}return parseInt(e.currentTime,10)},screenshot:function(e){if(!e||a.type(e)!=="number"){e=1}var f=this.currentVideo[0],g=f.videoWidth*e,d=f.videoHeight*e,b=document.createElement("canvas"),c;if(b.getContext){b.width=g;b.height=d;c=b.getContext("2d");c.drawImage(f,0,0,g,d)}return b},supports_video:function(){return !!document.createElement("video").canPlayType},supports_h264_baseline_video:function(){if(!this.supports_video()){return false}var b=document.createElement("video");return b.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')!==""},supports_ogg_theora_video:function(){if(!this.supports_video()){return false}var b=document.createElement("video");return b.canPlayType('video/ogg; codecs="theora, vorbis"')!==""},supports_webm_video:function(){if(!this.supports_video()){return false}var b=document.createElement("video");return b.canPlayType('video/webm; codecs="vp8, vorbis"')!==""},paused:function(){return this.currentVideo[0].paused},ended:function(){return this._getMainVideo()[0].ended},duration:function(){this._refreshDuration();return this._duration},_refreshDuration:function(){var b=this.currentVideo[0].duration;if(b!==this._duration){this._duration=b;if(b===Infinity){this._updateTitleControlsTimeString(a.ig.VideoPlayer.locale.live,a.ig.VideoPlayer.locale.liveStream);a("#"+this._id("_ctrls_s")).data("igSlider").handle.hide();a("#"+this._id("_ctrls_s")).igSlider("option","disabled",true)}else{if(!isNaN(b)){if(this._commercialPlaying){this._showAdMessage(parseInt(b,10))}else{this._updateTitleControlsTimeString(this._toTimeString(b));if(!this._bookmarksRendered&&b>0){this._renderBookmarks()}}}}}},seeking:function(){return this.currentVideo[0].seeking},destroy:function(){var b=this.css;clearTimeout(this._scrollingTimoutId);clearTimeout(this._volumeSliderTimeoutId);clearTimeout(this._onVideoStateChangeId);clearTimeout(this._resizeBookmarkAreaTimeoutId);if(this._oldWidth){this.element.css("width",this._oldWidth)}if(this._oldHeight){this.element.css("height",this._oldHeight)}this.container.unbind(this._generalEvts);a(document).unbind(this._documentEvts);if(this._controlsEvts){this.container.unbind(this._controlsEvts)}this.container.removeClass(b.baseClasses);a("#"+this._id("_ctrls_s")).igSlider("destroy");a("#"+this._id("_ctrls_pb")).igProgressBar("destroy");a("#"+this._id("_ctrls_vs")).igSlider("destroy");a("#"+this._id("_seek_tooltip")).igTooltip("destroy");if(this._commercialsShow){delete this._commercialsShow;delete this._commercialIndex;delete this._commercialPlaying}if(this._embeddedCommercialsShow){delete this._embeddedCommercialPlaying;delete this._embeddedCommercialIndex;delete this._embeddedCommercialsShow}delete this.bookmarkElements;delete this.relatedVideoElements;delete this.controlButtons;delete this._bannerShow;delete this.banner;if(this.element.is("video")){this.element.unbind(this._videoEvents);this.element.removeClass(b.videoClass);this._restoreExistingVideoProperties(this.element);a(":not(video)",this.container).remove();this.element.unwrap()}else{this.container.children().remove()}a.Widget.prototype.destroy.apply(this,arguments)},_destroyBookmarks:function(){if(this.bookmarkElements&&this.bookmarkElements.length>0){this.bookmarkElements.unbind();this.bookmarkElements.removeData();delete this.bookmarkElements;a("#"+this._id("_bookmarks")).remove();a("#"+this._id("_ctrls_s")).igSlider("clearBookmarks");this._bookmarksRendered=false}},_destroyRelatedVideos:function(){var b=this.options.relatedVideos;if(b&&b.length>0){a("#"+this._id("_rvcc")).remove();delete this.relatedVideoElements;b=[]}},_destroyControls:function(){var b=this.options.browserControls;if(!b){a("#"+this._id("_ctrls_play")).igButton("destroy");a("#"+this._id("_ctrls_vc_btn")).igButton("destroy");a("#"+this._id("_ctrls_fs_btn")).igButton("destroy");a("#"+this._id("_ctrls_pb")).igProgressBar("destroy");a("#"+this._id("_ctrls_s")).igSlider("destroy");a("#"+this._id("_ctrls_vs")).igSlider("destroy");this.controls.each(function(){a(this).parent().remove()});delete this.controls;delete this.controlButtons;delete this._activeControlsIndex}}});a.extend(a.ui.igVideoPlayer,{version:"12.2.20122.2147"})}(jQuery));
